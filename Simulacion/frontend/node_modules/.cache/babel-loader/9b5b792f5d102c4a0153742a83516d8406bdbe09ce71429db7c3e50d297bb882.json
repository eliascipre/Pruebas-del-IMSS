{"ast":null,"code":"import _objectWithoutProperties from \"/Users/elias/Documents/Trabajo/Pruebas-del-IMSS/Simulacion/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/Users/elias/Documents/Trabajo/Pruebas-del-IMSS/Simulacion/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nconst _excluded = [\"d\"];\n/// <reference types=\"./index.d.ts\" />\nimport { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { Box, InputBase, NoSsr, SvgIcon, createTheme, ThemeProvider, Paper } from '@mui/material';\nimport { createContext, useContext, useState, useRef, useCallback, useMemo, useEffect, memo } from 'react';\nimport { create, useStore, createStore } from 'zustand';\nimport copyToClipboard from 'copy-to-clipboard';\nfunction r(e) {\n  var t,\n    f,\n    n = \"\";\n  if (\"string\" == typeof e || \"number\" == typeof e) n += e;else if (\"object\" == typeof e) if (Array.isArray(e)) {\n    var o = e.length;\n    for (t = 0; t < o; t++) e[t] && (f = r(e[t])) && (n && (n += \" \"), n += f);\n  } else for (f in e) e[f] && (n && (n += \" \"), n += f);\n  return n;\n}\nfunction clsx() {\n  for (var e, t, f = 0, n = \"\", o = arguments.length; f < o; f++) (e = arguments[f]) && (t = r(e)) && (n && (n += \" \"), n += t);\n  return n;\n}\nconst lightColorspace = {\n  scheme: 'Light Theme',\n  author: 'mac gainor (https://github.com/mac-s-g)',\n  base00: 'rgba(0, 0, 0, 0)',\n  base01: 'rgb(245, 245, 245)',\n  base02: 'rgb(235, 235, 235)',\n  base03: '#93a1a1',\n  base04: 'rgba(0, 0, 0, 0.3)',\n  base05: '#586e75',\n  base06: '#073642',\n  base07: '#002b36',\n  base08: '#d33682',\n  base09: '#cb4b16',\n  base0A: '#ffd500',\n  base0B: '#859900',\n  base0C: '#6c71c4',\n  base0D: '#586e75',\n  base0E: '#2aa198',\n  base0F: '#268bd2'\n};\nconst darkColorspace = {\n  scheme: 'Dark Theme',\n  author: 'Chris Kempson (http://chriskempson.com)',\n  base00: '#181818',\n  base01: '#282828',\n  base02: '#383838',\n  base03: '#585858',\n  base04: '#b8b8b8',\n  base05: '#d8d8d8',\n  base06: '#e8e8e8',\n  base07: '#f8f8f8',\n  base08: '#ab4642',\n  base09: '#dc9656',\n  base0A: '#f7ca88',\n  base0B: '#a1b56c',\n  base0C: '#86c1b9',\n  base0D: '#7cafc2',\n  base0E: '#ba8baf',\n  base0F: '#a16946'\n};\nconst DefaultKeyRenderer = () => null;\nDefaultKeyRenderer.when = () => false;\nconst createJsonViewerStore = props => {\n  return create()((set, get) => {\n    var _props_rootName, _props_indentWidth, _props_keyRenderer, _props_enableAdd, _props_enableDelete, _props_enableClipboard, _props_editable, _props_onChange, _props_onCopy, _props_onSelect, _props_onAdd, _props_onDelete, _props_defaultInspectDepth, _props_defaultInspectControl, _props_maxDisplayLength, _props_groupArraysAfterLength, _props_collapseStringsAfterLength, _props_objectSortKeys, _props_quotesOnKeys, _props_displayDataTypes, _props_displaySize, _props_displayComma, _props_highlightUpdates;\n    return {\n      // provided by user\n      rootName: (_props_rootName = props.rootName) !== null && _props_rootName !== void 0 ? _props_rootName : 'root',\n      indentWidth: (_props_indentWidth = props.indentWidth) !== null && _props_indentWidth !== void 0 ? _props_indentWidth : 3,\n      keyRenderer: (_props_keyRenderer = props.keyRenderer) !== null && _props_keyRenderer !== void 0 ? _props_keyRenderer : DefaultKeyRenderer,\n      enableAdd: (_props_enableAdd = props.enableAdd) !== null && _props_enableAdd !== void 0 ? _props_enableAdd : false,\n      enableDelete: (_props_enableDelete = props.enableDelete) !== null && _props_enableDelete !== void 0 ? _props_enableDelete : false,\n      enableClipboard: (_props_enableClipboard = props.enableClipboard) !== null && _props_enableClipboard !== void 0 ? _props_enableClipboard : true,\n      editable: (_props_editable = props.editable) !== null && _props_editable !== void 0 ? _props_editable : false,\n      onChange: (_props_onChange = props.onChange) !== null && _props_onChange !== void 0 ? _props_onChange : () => {},\n      onCopy: (_props_onCopy = props.onCopy) !== null && _props_onCopy !== void 0 ? _props_onCopy : undefined,\n      onSelect: (_props_onSelect = props.onSelect) !== null && _props_onSelect !== void 0 ? _props_onSelect : undefined,\n      onAdd: (_props_onAdd = props.onAdd) !== null && _props_onAdd !== void 0 ? _props_onAdd : undefined,\n      onDelete: (_props_onDelete = props.onDelete) !== null && _props_onDelete !== void 0 ? _props_onDelete : undefined,\n      defaultInspectDepth: (_props_defaultInspectDepth = props.defaultInspectDepth) !== null && _props_defaultInspectDepth !== void 0 ? _props_defaultInspectDepth : 5,\n      defaultInspectControl: (_props_defaultInspectControl = props.defaultInspectControl) !== null && _props_defaultInspectControl !== void 0 ? _props_defaultInspectControl : undefined,\n      maxDisplayLength: (_props_maxDisplayLength = props.maxDisplayLength) !== null && _props_maxDisplayLength !== void 0 ? _props_maxDisplayLength : 30,\n      groupArraysAfterLength: (_props_groupArraysAfterLength = props.groupArraysAfterLength) !== null && _props_groupArraysAfterLength !== void 0 ? _props_groupArraysAfterLength : 100,\n      collapseStringsAfterLength: props.collapseStringsAfterLength === false ? Number.MAX_VALUE : (_props_collapseStringsAfterLength = props.collapseStringsAfterLength) !== null && _props_collapseStringsAfterLength !== void 0 ? _props_collapseStringsAfterLength : 50,\n      objectSortKeys: (_props_objectSortKeys = props.objectSortKeys) !== null && _props_objectSortKeys !== void 0 ? _props_objectSortKeys : false,\n      quotesOnKeys: (_props_quotesOnKeys = props.quotesOnKeys) !== null && _props_quotesOnKeys !== void 0 ? _props_quotesOnKeys : true,\n      displayDataTypes: (_props_displayDataTypes = props.displayDataTypes) !== null && _props_displayDataTypes !== void 0 ? _props_displayDataTypes : true,\n      displaySize: (_props_displaySize = props.displaySize) !== null && _props_displaySize !== void 0 ? _props_displaySize : true,\n      displayComma: (_props_displayComma = props.displayComma) !== null && _props_displayComma !== void 0 ? _props_displayComma : false,\n      highlightUpdates: (_props_highlightUpdates = props.highlightUpdates) !== null && _props_highlightUpdates !== void 0 ? _props_highlightUpdates : false,\n      // internal state\n      inspectCache: {},\n      hoverPath: null,\n      colorspace: lightColorspace,\n      value: props.value,\n      prevValue: undefined,\n      getInspectCache: (path, nestedIndex) => {\n        const target = nestedIndex !== undefined ? path.join('.') + \"[\".concat(nestedIndex, \"]nt\") : path.join('.');\n        return get().inspectCache[target];\n      },\n      setInspectCache: (path, action, nestedIndex) => {\n        const target = nestedIndex !== undefined ? path.join('.') + \"[\".concat(nestedIndex, \"]nt\") : path.join('.');\n        set(state => ({\n          inspectCache: _objectSpread(_objectSpread({}, state.inspectCache), {}, {\n            [target]: typeof action === 'function' ? action(state.inspectCache[target]) : action\n          })\n        }));\n      },\n      setHover: (path, nestedIndex) => {\n        set({\n          hoverPath: path ? {\n            path,\n            nestedIndex\n          } : null\n        });\n      }\n    };\n  });\n};\n// @ts-expect-error we intentionally want to pass undefined to the context\n// See https://github.com/DefinitelyTyped/DefinitelyTyped/pull/24509#issuecomment-382213106\nconst JsonViewerStoreContext = createContext(undefined);\nJsonViewerStoreContext.Provider;\nconst useJsonViewerStore = (selector, equalityFn) => {\n  const store = useContext(JsonViewerStoreContext);\n  return useStore(store, selector, equalityFn);\n};\nconst useTextColor = () => {\n  return useJsonViewerStore(store => store.colorspace.base07);\n};\n\n// reference: https://github.com/immerjs/immer/blob/main/src/utils/common.ts\nconst objectCtorString = Object.prototype.constructor.toString();\nfunction isPlainObject(value) {\n  if (!value || typeof value !== 'object') return false;\n  const proto = Object.getPrototypeOf(value);\n  if (proto === null) return true;\n  const Ctor = Object.hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  if (Ctor === Object) return true;\n  return typeof Ctor === 'function' && Function.toString.call(Ctor) === objectCtorString;\n}\nfunction shouldShallowCopy(value) {\n  if (!value) return false;\n  return isPlainObject(value) || Array.isArray(value) || value instanceof Map || value instanceof Set;\n}\nfunction shallowCopy(value) {\n  if (Array.isArray(value)) return Array.prototype.slice.call(value);\n  if (value instanceof Set) return new Set(value);\n  if (value instanceof Map) return new Map(value);\n  if (typeof value === 'object' && value !== null) {\n    return Object.assign({}, value);\n  }\n  return value;\n}\nfunction _applyValue(input, path, value) {\n  let visitedMapping = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : new Map();\n  if (typeof input !== 'object' || input === null) {\n    if (path.length !== 0) {\n      throw new Error('path is incorrect');\n    }\n    return value;\n  }\n  const shouldCopy = shouldShallowCopy(input);\n  if (shouldCopy) {\n    let copiedInput = visitedMapping.get(input);\n    if (!copiedInput) {\n      copiedInput = shallowCopy(input);\n      visitedMapping.set(input, copiedInput);\n    }\n    input = copiedInput;\n  }\n  const [key, ...restPath] = path;\n  if (key !== undefined) {\n    if (key === '__proto__') {\n      throw new TypeError('Modification of prototype is not allowed');\n    }\n    if (restPath.length > 0) {\n      input[key] = _applyValue(input[key], restPath, value, visitedMapping);\n    } else {\n      input[key] = value;\n    }\n  }\n  return input;\n}\n/**\r\n * Apply a value to a given path of an object.\r\n */\nfunction applyValue(input, path, value) {\n  return _applyValue(input, path, value);\n}\n/**\r\n * Delete a value from a given path of an object.\r\n */\nfunction deleteValue(input, path, value) {\n  if (typeof input !== 'object' || input === null) {\n    if (path.length !== 0) {\n      throw new Error('path is incorrect');\n    }\n    return value;\n  }\n  const shouldCopy = shouldShallowCopy(input);\n  if (shouldCopy) input = shallowCopy(input);\n  const [key, ...restPath] = path;\n  if (key !== undefined) {\n    if (key === '__proto__') {\n      throw new TypeError('Modification of prototype is not allowed');\n    }\n    if (restPath.length > 0) {\n      input[key] = deleteValue(input[key], restPath, value);\n    } else {\n      if (Array.isArray(input)) {\n        input.splice(Number(key), 1);\n      } else {\n        delete input[key];\n      }\n    }\n  }\n  return input;\n}\n/**\r\n * @deprecated use `defineDataType` instead\r\n */\nfunction createDataType(is, Component, Editor, PreComponent, PostComponent) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.warn('createDataType is deprecated, please use `defineDataType` instead. See https://viewer.textea.io/migration/migration-v3#use-definedatatype-instead-of-createdatatype for more information.');\n  }\n  return {\n    is,\n    Component,\n    Editor,\n    PreComponent,\n    PostComponent\n  };\n}\n/**\r\n * Define custom data types for any data structure\r\n */\nfunction defineDataType(param) {\n  let {\n    is,\n    serialize,\n    deserialize,\n    Component,\n    Editor,\n    PreComponent,\n    PostComponent\n  } = param;\n  return {\n    is,\n    serialize,\n    deserialize,\n    Component,\n    Editor,\n    PreComponent,\n    PostComponent\n  };\n}\nconst isCycleReference = (root, path, value) => {\n  if (root === null || value === null) {\n    return false;\n  }\n  if (typeof root !== 'object') {\n    return false;\n  }\n  if (typeof value !== 'object') {\n    return false;\n  }\n  if (Object.is(root, value) && path.length !== 0) {\n    return '';\n  }\n  const currentPath = [];\n  const arr = [...path];\n  let currentRoot = root;\n  while (currentRoot !== value || arr.length !== 0) {\n    if (typeof currentRoot !== 'object' || currentRoot === null) {\n      return false;\n    }\n    if (Object.is(currentRoot, value)) {\n      return currentPath.reduce((path, value, currentIndex) => {\n        if (typeof value === 'number') {\n          return path + \"[\".concat(value, \"]\");\n        }\n        return path + \"\".concat(currentIndex === 0 ? '' : '.').concat(value);\n      }, '');\n    }\n    const target = arr.shift();\n    currentPath.push(target);\n    currentRoot = currentRoot[target];\n  }\n  return false;\n};\nfunction getValueSize(value) {\n  if (value === null || undefined) {\n    return 0;\n  } else if (Array.isArray(value)) {\n    return value.length;\n  } else if (value instanceof Map || value instanceof Set) {\n    return value.size;\n  } else if (value instanceof Date) {\n    return 1;\n  } else if (typeof value === 'object') {\n    return Object.keys(value).length;\n  } else if (typeof value === 'string') {\n    return value.length;\n  }\n  return 1;\n}\nfunction segmentArray(arr, size) {\n  const result = [];\n  let index = 0;\n  while (index < arr.length) {\n    result.push(arr.slice(index, index + size));\n    index += size;\n  }\n  return result;\n}\n/**\r\n * A safe version of `JSON.stringify` that handles circular references and BigInts.\r\n *\r\n * *This function might be changed in the future to support more types. Use it with caution.*\r\n *\r\n * @param obj A JavaScript value, usually an object or array, to be converted.\r\n * @param space Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read.\r\n * @returns\r\n */\nfunction safeStringify(obj, space) {\n  const seenValues = [];\n  function replacer(key, value) {\n    // https://github.com/GoogleChromeLabs/jsbi/issues/30\n    if (typeof value === 'bigint') return value.toString();\n    // Map and Set are not supported by JSON.stringify\n    if (value instanceof Map) {\n      if ('toJSON' in value && typeof value.toJSON === 'function') return value.toJSON();\n      if (value.size === 0) return {};\n      if (seenValues.includes(value)) return '[Circular]';\n      seenValues.push(value);\n      const entries = Array.from(value.entries());\n      if (entries.every(param => {\n        let [key] = param;\n        return typeof key === 'string' || typeof key === 'number';\n      })) {\n        return Object.fromEntries(entries);\n      }\n      // if keys are not string or number, we can't convert to object\n      // fallback to default behavior\n      return {};\n    }\n    if (value instanceof Set) {\n      if ('toJSON' in value && typeof value.toJSON === 'function') return value.toJSON();\n      if (seenValues.includes(value)) return '[Circular]';\n      seenValues.push(value);\n      return Array.from(value.values());\n    }\n    // https://stackoverflow.com/a/72457899\n    if (typeof value === 'object' && value !== null && Object.keys(value).length) {\n      const stackSize = seenValues.length;\n      if (stackSize) {\n        // clean up expired references\n        for (let n = stackSize - 1; n >= 0 && seenValues[n][key] !== value; --n) {\n          seenValues.pop();\n        }\n        if (seenValues.includes(value)) return '[Circular]';\n      }\n      seenValues.push(value);\n    }\n    return value;\n  }\n  return JSON.stringify(obj, replacer, space);\n}\nasync function copyString(value) {\n  if ('clipboard' in navigator) {\n    try {\n      await navigator.clipboard.writeText(value);\n    } catch (_unused) {\n      // When navigator.clipboard throws an error, fallback to copy-to-clipboard package\n    }\n  }\n  // fallback to copy-to-clipboard when navigator.clipboard is not available\n  copyToClipboard(value);\n}\nfunction pathValueDefaultGetter(value, key) {\n  if (value === null || value === undefined) {\n    return null;\n  }\n  if (value instanceof Map || value instanceof WeakMap) {\n    return value.get(key);\n  }\n  if (value instanceof Set) {\n    return Array.from(value)[key];\n  }\n  if (value instanceof WeakSet) {\n    throw new Error('WeakSet is not supported');\n  }\n  if (Array.isArray(value)) {\n    return value[Number(key)];\n  }\n  if (typeof value === 'object') {\n    return value[key];\n  }\n  return null;\n}\n/**\r\n * Get the value at a given path in an object.\r\n * Passing custom getters allows you to handle custom data structures.\r\n * @experimental This function is not yet stable and may change in the future.\r\n */\nfunction getPathValue(obj, path) {\n  let customGetters = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [];\n  try {\n    // @ts-ignore\n    return path.reduce((acc, key, index) => {\n      if (acc === null || acc === undefined) {\n        console.error('Invalid path or value encountered at path', path.slice(0, index));\n        throw new Error('Invalid path or value encountered');\n      }\n      for (const handler of customGetters) {\n        const currentPath = path.slice(0, index + 1);\n        if (handler.is(acc, currentPath)) {\n          return handler.handler(acc, key);\n        }\n      }\n      return pathValueDefaultGetter(acc, key);\n    }, obj);\n  } catch (error) {\n    console.error(error);\n    return null // or throw error?\n    ;\n  }\n}\n\n/**\r\n * useClipboard hook accepts one argument options in which copied status timeout duration is defined (defaults to 2000). Hook returns object with properties:\r\n * - copy – function to copy value to clipboard\r\n * - copied – value that indicates that copy handler was called less than options.timeout ms ago\r\n * - reset – function to clear timeout and reset copied to false\r\n */\nfunction useClipboard() {\n  let {\n    timeout = 2000\n  } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n  const [copied, setCopied] = useState(false);\n  const copyTimeout = useRef(null);\n  const handleCopyResult = useCallback(value => {\n    const current = copyTimeout.current;\n    if (current) {\n      window.clearTimeout(current);\n    }\n    copyTimeout.current = window.setTimeout(() => setCopied(false), timeout);\n    setCopied(value);\n  }, [timeout]);\n  const onCopy = useJsonViewerStore(store => store.onCopy);\n  const copy = useCallback(async (path, value) => {\n    if (typeof onCopy === 'function') {\n      try {\n        await onCopy(path, value, copyString);\n        handleCopyResult(true);\n      } catch (error) {\n        console.error(\"error when copy \".concat(path.length === 0 ? 'src' : \"src[\".concat(path.join('.')), \"]\"), error);\n      }\n    } else {\n      try {\n        const valueToCopy = safeStringify(typeof value === 'function' ? value.toString() : value, '  ');\n        await copyString(valueToCopy);\n        handleCopyResult(true);\n      } catch (error) {\n        console.error(\"error when copy \".concat(path.length === 0 ? 'src' : \"src[\".concat(path.join('.')), \"]\"), error);\n      }\n    }\n  }, [handleCopyResult, onCopy]);\n  const reset = useCallback(() => {\n    setCopied(false);\n    if (copyTimeout.current) {\n      clearTimeout(copyTimeout.current);\n    }\n  }, []);\n  return {\n    copy,\n    reset,\n    copied\n  };\n}\nfunction useIsCycleReference(path, value) {\n  const rootValue = useJsonViewerStore(store => store.value);\n  return useMemo(() => isCycleReference(rootValue, path, value), [path, value, rootValue]);\n}\nfunction useInspect(path, value, nestedIndex) {\n  const depth = path.length;\n  const isTrap = useIsCycleReference(path, value);\n  const getInspectCache = useJsonViewerStore(store => store.getInspectCache);\n  const setInspectCache = useJsonViewerStore(store => store.setInspectCache);\n  const defaultInspectDepth = useJsonViewerStore(store => store.defaultInspectDepth);\n  const defaultInspectControl = useJsonViewerStore(store => store.defaultInspectControl);\n  useEffect(() => {\n    const inspect = getInspectCache(path, nestedIndex);\n    if (inspect !== undefined) {\n      return;\n    }\n    // item with nestedIndex should not be inspected\n    if (nestedIndex !== undefined) {\n      setInspectCache(path, false, nestedIndex);\n      return;\n    }\n    // do not inspect when it is a cycle reference, otherwise there will have a loop\n    const shouldInspect = isTrap ? false : typeof defaultInspectControl === 'function' ? defaultInspectControl(path, value) : depth < defaultInspectDepth;\n    setInspectCache(path, shouldInspect);\n  }, [defaultInspectDepth, defaultInspectControl, depth, getInspectCache, isTrap, nestedIndex, path, value, setInspectCache]);\n  const [inspect, set] = useState(() => {\n    const shouldInspect = getInspectCache(path, nestedIndex);\n    if (shouldInspect !== undefined) {\n      return shouldInspect;\n    }\n    if (nestedIndex !== undefined) {\n      return false;\n    }\n    return isTrap ? false : typeof defaultInspectControl === 'function' ? defaultInspectControl(path, value) : depth < defaultInspectDepth;\n  });\n  const setInspect = useCallback(apply => {\n    set(oldState => {\n      const newState = typeof apply === 'boolean' ? apply : apply(oldState);\n      setInspectCache(path, newState, nestedIndex);\n      return newState;\n    });\n  }, [nestedIndex, path, setInspectCache]);\n  return [inspect, setInspect];\n}\nconst DataBox = props => /*#__PURE__*/jsx(Box, _objectSpread(_objectSpread({\n  component: \"div\"\n}, props), {}, {\n  sx: _objectSpread({\n    display: 'inline-block'\n  }, props.sx)\n}));\nconst DataTypeLabel = param => {\n  let {\n    dataType,\n    enable = true\n  } = param;\n  if (!enable) return null;\n  return /*#__PURE__*/jsx(DataBox, {\n    className: \"data-type-label\",\n    sx: {\n      mx: 0.5,\n      fontSize: '0.7rem',\n      opacity: 0.8,\n      userSelect: 'none'\n    },\n    children: dataType\n  });\n};\n\n/**\r\n * Enhanced version of `defineDataType` that creates a `DataType` with editor and a optional type label.\r\n * It will take care of the color and all the necessary props.\r\n *\r\n * *All of the built-in data types are defined with this function.*\r\n *\r\n * @param config.type The type name.\r\n * @param config.colorKey The color key in the colorspace. ('base00' - 'base0F')\r\n * @param config.displayTypeLabel Whether to display the type label.\r\n * @param config.Renderer The component to render the value.\r\n */\nfunction defineEasyType(param) {\n  let {\n    is,\n    serialize,\n    deserialize,\n    type,\n    colorKey,\n    displayTypeLabel = true,\n    Renderer\n  } = param;\n  const Render = /*#__PURE__*/memo(Renderer);\n  const EasyType = props => {\n    const storeDisplayDataTypes = useJsonViewerStore(store => store.displayDataTypes);\n    const color = useJsonViewerStore(store => store.colorspace[colorKey]);\n    const onSelect = useJsonViewerStore(store => store.onSelect);\n    return /*#__PURE__*/jsxs(DataBox, {\n      onClick: () => onSelect === null || onSelect === void 0 ? void 0 : onSelect(props.path, props.value),\n      sx: {\n        color\n      },\n      children: [displayTypeLabel && storeDisplayDataTypes && /*#__PURE__*/jsx(DataTypeLabel, {\n        dataType: type\n      }), /*#__PURE__*/jsx(DataBox, {\n        className: \"\".concat(type, \"-value\"),\n        children: /*#__PURE__*/jsx(Render, {\n          path: props.path,\n          inspect: props.inspect,\n          setInspect: props.setInspect,\n          value: props.value,\n          prevValue: props.prevValue\n        })\n      })]\n    });\n  };\n  EasyType.displayName = \"easy-\".concat(type, \"-type\");\n  if (!serialize || !deserialize) {\n    return {\n      is,\n      Component: EasyType\n    };\n  }\n  const EasyTypeEditor = param => {\n    let {\n      value,\n      setValue,\n      abortEditing,\n      commitEditing\n    } = param;\n    const color = useJsonViewerStore(store => store.colorspace[colorKey]);\n    const handleKeyDown = useCallback(event => {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        commitEditing(value);\n      }\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        abortEditing();\n      }\n    }, [abortEditing, commitEditing, value]);\n    const handleChange = useCallback(event => {\n      setValue(event.target.value);\n    }, [setValue]);\n    return /*#__PURE__*/jsx(InputBase, {\n      autoFocus: true,\n      value: value,\n      onChange: handleChange,\n      onKeyDown: handleKeyDown,\n      size: \"small\",\n      multiline: true,\n      sx: {\n        color,\n        padding: 0.5,\n        borderStyle: 'solid',\n        borderColor: 'black',\n        borderWidth: 1,\n        fontSize: '0.8rem',\n        fontFamily: 'monospace',\n        display: 'inline-flex'\n      }\n    });\n  };\n  EasyTypeEditor.displayName = \"easy-\".concat(type, \"-type-editor\");\n  return {\n    is,\n    serialize,\n    deserialize,\n    Component: EasyType,\n    Editor: EasyTypeEditor\n  };\n}\nconst booleanType = defineEasyType({\n  is: value => typeof value === 'boolean',\n  type: 'bool',\n  colorKey: 'base0E',\n  serialize: value => value.toString(),\n  deserialize: value => {\n    if (value === 'true') return true;\n    if (value === 'false') return false;\n    throw new Error('Invalid boolean value');\n  },\n  Renderer: param => {\n    let {\n      value\n    } = param;\n    return /*#__PURE__*/jsx(Fragment, {\n      children: value ? 'true' : 'false'\n    });\n  }\n});\nconst displayOptions = {\n  weekday: 'short',\n  year: 'numeric',\n  month: 'short',\n  day: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit'\n};\nconst dateType = defineEasyType({\n  is: value => value instanceof Date,\n  type: 'date',\n  colorKey: 'base0D',\n  Renderer: param => {\n    let {\n      value\n    } = param;\n    return /*#__PURE__*/jsx(Fragment, {\n      children: value.toLocaleTimeString('en-us', displayOptions)\n    });\n  }\n});\nconst functionBody = func => {\n  const funcString = func.toString();\n  let isUsualFunction = true;\n  const parenthesisPos = funcString.indexOf(')');\n  const arrowPos = funcString.indexOf('=>');\n  if (arrowPos !== -1 && arrowPos > parenthesisPos) {\n    isUsualFunction = false;\n  }\n  if (isUsualFunction) {\n    return funcString.substring(funcString.indexOf('{', parenthesisPos) + 1, funcString.lastIndexOf('}'));\n  }\n  return funcString.substring(funcString.indexOf('=>') + 2);\n};\nconst functionName = func => {\n  const funcString = func.toString();\n  const isUsualFunction = funcString.indexOf('function') !== -1;\n  if (isUsualFunction) {\n    return funcString.substring(8, funcString.indexOf('{')).trim();\n  }\n  return funcString.substring(0, funcString.indexOf('=>') + 2).trim();\n};\nconst lb = '{';\nconst rb = '}';\nconst PreFunctionType = props => {\n  return /*#__PURE__*/jsxs(NoSsr, {\n    children: [/*#__PURE__*/jsx(DataTypeLabel, {\n      dataType: \"function\"\n    }), /*#__PURE__*/jsxs(Box, {\n      component: \"span\",\n      className: \"data-function-start\",\n      sx: {\n        letterSpacing: 0.5\n      },\n      children: [functionName(props.value), ' ', lb]\n    })]\n  });\n};\nconst PostFunctionType = () => {\n  return /*#__PURE__*/jsx(NoSsr, {\n    children: /*#__PURE__*/jsx(Box, {\n      component: \"span\",\n      className: \"data-function-end\",\n      children: rb\n    })\n  });\n};\nconst FunctionType = props => {\n  const functionColor = useJsonViewerStore(store => store.colorspace.base05);\n  return /*#__PURE__*/jsx(NoSsr, {\n    children: /*#__PURE__*/jsx(Box, {\n      className: \"data-function\",\n      sx: {\n        display: props.inspect ? 'block' : 'inline-block',\n        pl: props.inspect ? 2 : 0,\n        color: functionColor\n      },\n      children: props.inspect ? functionBody(props.value) : /*#__PURE__*/jsx(Box, {\n        component: \"span\",\n        className: \"data-function-body\",\n        onClick: () => props.setInspect(true),\n        sx: {\n          '&:hover': {\n            cursor: 'pointer'\n          },\n          padding: 0.5\n        },\n        children: \"…\"\n      })\n    })\n  });\n};\nconst functionType = {\n  is: value => typeof value === 'function',\n  Component: FunctionType,\n  PreComponent: PreFunctionType,\n  PostComponent: PostFunctionType\n};\nconst nullType = defineEasyType({\n  is: value => value === null,\n  type: 'null',\n  colorKey: 'base08',\n  displayTypeLabel: false,\n  Renderer: () => {\n    const backgroundColor = useJsonViewerStore(store => store.colorspace.base02);\n    return /*#__PURE__*/jsx(Box, {\n      sx: {\n        fontSize: '0.8rem',\n        backgroundColor,\n        fontWeight: 'bold',\n        borderRadius: '3px',\n        padding: '0.5px 2px'\n      },\n      children: \"NULL\"\n    });\n  }\n});\nconst isInt = n => n % 1 === 0;\nconst nanType = defineEasyType({\n  is: value => typeof value === 'number' && isNaN(value),\n  type: 'NaN',\n  colorKey: 'base08',\n  displayTypeLabel: false,\n  serialize: () => 'NaN',\n  // allow deserialize the value back to number\n  deserialize: value => parseFloat(value),\n  Renderer: () => {\n    const backgroundColor = useJsonViewerStore(store => store.colorspace.base02);\n    return /*#__PURE__*/jsx(Box, {\n      sx: {\n        backgroundColor,\n        fontSize: '0.8rem',\n        fontWeight: 'bold',\n        borderRadius: '3px',\n        padding: '0.5px 2px'\n      },\n      children: \"NaN\"\n    });\n  }\n});\nconst floatType = defineEasyType({\n  is: value => typeof value === 'number' && !isInt(value) && !isNaN(value),\n  type: 'float',\n  colorKey: 'base0B',\n  serialize: value => value.toString(),\n  deserialize: value => parseFloat(value),\n  Renderer: param => {\n    let {\n      value\n    } = param;\n    return /*#__PURE__*/jsx(Fragment, {\n      children: value\n    });\n  }\n});\nconst intType = defineEasyType({\n  is: value => typeof value === 'number' && isInt(value),\n  type: 'int',\n  colorKey: 'base0F',\n  serialize: value => value.toString(),\n  // allow deserialize the value to float\n  deserialize: value => parseFloat(value),\n  Renderer: param => {\n    let {\n      value\n    } = param;\n    return /*#__PURE__*/jsx(Fragment, {\n      children: value\n    });\n  }\n});\nconst bigIntType = defineEasyType({\n  is: value => typeof value === 'bigint',\n  type: 'bigint',\n  colorKey: 'base0F',\n  serialize: value => value.toString(),\n  deserialize: value => BigInt(value.replace(/\\D/g, '')),\n  Renderer: param => {\n    let {\n      value\n    } = param;\n    return /*#__PURE__*/jsx(Fragment, {\n      children: \"\".concat(value, \"n\")\n    });\n  }\n});\nconst BaseIcon = param => {\n  let {\n      d\n    } = param,\n    props = _objectWithoutProperties(param, _excluded);\n  return /*#__PURE__*/jsx(SvgIcon, _objectSpread(_objectSpread({}, props), {}, {\n    children: /*#__PURE__*/jsx(\"path\", {\n      d: d\n    })\n  }));\n};\nconst AddBox = 'M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z';\nconst Check = 'M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z';\nconst ChevronRight = 'M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z';\nconst CircularArrows = 'M 12 2 C 10.615 1.998 9.214625 2.2867656 7.890625 2.8847656 L 8.9003906 4.6328125 C 9.9043906 4.2098125 10.957 3.998 12 4 C 15.080783 4 17.738521 5.7633175 19.074219 8.3222656 L 17.125 9 L 21.25 11 L 22.875 7 L 20.998047 7.6523438 C 19.377701 4.3110398 15.95585 2 12 2 z M 6.5097656 4.4882812 L 2.2324219 5.0820312 L 3.734375 6.3808594 C 1.6515335 9.4550558 1.3615962 13.574578 3.3398438 17 C 4.0308437 18.201 4.9801562 19.268234 6.1601562 20.115234 L 7.1699219 18.367188 C 6.3019219 17.710187 5.5922656 16.904 5.0722656 16 C 3.5320014 13.332354 3.729203 10.148679 5.2773438 7.7128906 L 6.8398438 9.0625 L 6.5097656 4.4882812 z M 19.929688 13 C 19.794687 14.08 19.450734 15.098 18.927734 16 C 17.386985 18.668487 14.531361 20.090637 11.646484 19.966797 L 12.035156 17.9375 L 8.2402344 20.511719 L 10.892578 23.917969 L 11.265625 21.966797 C 14.968963 22.233766 18.681899 20.426323 20.660156 17 C 21.355156 15.801 21.805219 14.445 21.949219 13 L 19.929688 13 z';\nconst Close = 'M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z';\nconst ContentCopy = 'M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z';\nconst Edit = 'M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z';\nconst ExpandMore = 'M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z';\nconst Delete = 'M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5l-1-1h-5l-1 1H5v2h14V4z';\nconst AddBoxIcon = props => {\n  return /*#__PURE__*/jsx(BaseIcon, _objectSpread({\n    d: AddBox\n  }, props));\n};\nconst CheckIcon = props => {\n  return /*#__PURE__*/jsx(BaseIcon, _objectSpread({\n    d: Check\n  }, props));\n};\nconst ChevronRightIcon = props => {\n  return /*#__PURE__*/jsx(BaseIcon, _objectSpread({\n    d: ChevronRight\n  }, props));\n};\nconst CircularArrowsIcon = props => {\n  return /*#__PURE__*/jsx(BaseIcon, _objectSpread({\n    d: CircularArrows\n  }, props));\n};\nconst CloseIcon = props => {\n  return /*#__PURE__*/jsx(BaseIcon, _objectSpread({\n    d: Close\n  }, props));\n};\nconst ContentCopyIcon = props => {\n  return /*#__PURE__*/jsx(BaseIcon, _objectSpread({\n    d: ContentCopy\n  }, props));\n};\nconst EditIcon = props => {\n  return /*#__PURE__*/jsx(BaseIcon, _objectSpread({\n    d: Edit\n  }, props));\n};\nconst ExpandMoreIcon = props => {\n  return /*#__PURE__*/jsx(BaseIcon, _objectSpread({\n    d: ExpandMore\n  }, props));\n};\nconst DeleteIcon = props => {\n  return /*#__PURE__*/jsx(BaseIcon, _objectSpread({\n    d: Delete\n  }, props));\n};\nconst objectLb = '{';\nconst arrayLb = '[';\nconst objectRb = '}';\nconst arrayRb = ']';\nfunction inspectMetadata(value) {\n  const length = getValueSize(value);\n  let name = '';\n  if (value instanceof Map || value instanceof Set) {\n    name = value[Symbol.toStringTag];\n  }\n  if (Object.prototype.hasOwnProperty.call(value, Symbol.toStringTag)) {\n    name = value[Symbol.toStringTag];\n  }\n  return \"\".concat(length, \" Items\").concat(name ? \" (\".concat(name, \")\") : '');\n}\nconst PreObjectType = props => {\n  const metadataColor = useJsonViewerStore(store => store.colorspace.base04);\n  const textColor = useTextColor();\n  const isArrayLike = useMemo(() => Array.isArray(props.value) || props.value instanceof Set, [props.value]);\n  const isEmptyValue = useMemo(() => getValueSize(props.value) === 0, [props.value]);\n  const sizeOfValue = useMemo(() => inspectMetadata(props.value), [props.value]);\n  const displaySize = useJsonViewerStore(store => store.displaySize);\n  const shouldDisplaySize = useMemo(() => typeof displaySize === 'function' ? displaySize(props.path, props.value) : displaySize, [displaySize, props.path, props.value]);\n  const isTrap = useIsCycleReference(props.path, props.value);\n  return /*#__PURE__*/jsxs(Box, {\n    component: \"span\",\n    className: \"data-object-start\",\n    sx: {\n      letterSpacing: 0.5\n    },\n    children: [isArrayLike ? arrayLb : objectLb, shouldDisplaySize && props.inspect && !isEmptyValue && /*#__PURE__*/jsx(Box, {\n      component: \"span\",\n      sx: {\n        pl: 0.5,\n        fontStyle: 'italic',\n        color: metadataColor,\n        userSelect: 'none'\n      },\n      children: sizeOfValue\n    }), isTrap && !props.inspect && /*#__PURE__*/jsxs(Fragment, {\n      children: [/*#__PURE__*/jsx(CircularArrowsIcon, {\n        sx: {\n          fontSize: 12,\n          color: textColor,\n          mx: 0.5\n        }\n      }), /*#__PURE__*/jsx(DataBox, {\n        sx: {\n          cursor: 'pointer',\n          userSelect: 'none'\n        },\n        children: isTrap\n      })]\n    })]\n  });\n};\nconst PostObjectType = props => {\n  const metadataColor = useJsonViewerStore(store => store.colorspace.base04);\n  const textColor = useTextColor();\n  const isArrayLike = useMemo(() => Array.isArray(props.value) || props.value instanceof Set, [props.value]);\n  const isEmptyValue = useMemo(() => getValueSize(props.value) === 0, [props.value]);\n  const sizeOfValue = useMemo(() => inspectMetadata(props.value), [props.value]);\n  const displaySize = useJsonViewerStore(store => store.displaySize);\n  const shouldDisplaySize = useMemo(() => typeof displaySize === 'function' ? displaySize(props.path, props.value) : displaySize, [displaySize, props.path, props.value]);\n  return /*#__PURE__*/jsxs(Box, {\n    component: \"span\",\n    className: \"data-object-end\",\n    sx: {\n      lineHeight: 1.5,\n      color: textColor,\n      letterSpacing: 0.5,\n      opacity: 0.8\n    },\n    children: [isArrayLike ? arrayRb : objectRb, shouldDisplaySize && (isEmptyValue || !props.inspect) ? /*#__PURE__*/jsx(Box, {\n      component: \"span\",\n      sx: {\n        pl: 0.5,\n        fontStyle: 'italic',\n        color: metadataColor,\n        userSelect: 'none'\n      },\n      children: sizeOfValue\n    }) : null]\n  });\n};\nfunction getIterator(value) {\n  return typeof (value === null || value === void 0 ? void 0 : value[Symbol.iterator]) === 'function';\n}\nconst ObjectType = props => {\n  const keyColor = useTextColor();\n  const borderColor = useJsonViewerStore(store => store.colorspace.base02);\n  const groupArraysAfterLength = useJsonViewerStore(store => store.groupArraysAfterLength);\n  const isTrap = useIsCycleReference(props.path, props.value);\n  const [displayLength, setDisplayLength] = useState(useJsonViewerStore(store => store.maxDisplayLength));\n  const objectSortKeys = useJsonViewerStore(store => store.objectSortKeys);\n  const elements = useMemo(() => {\n    if (!props.inspect) {\n      return null;\n    }\n    const value = props.value;\n    const iterator = getIterator(value);\n    // Array also has iterator, we skip it and treat it as an array as normal.\n    if (iterator && !Array.isArray(value)) {\n      const elements = [];\n      if (value instanceof Map) {\n        const lastIndex = value.size - 1;\n        let index = 0;\n        value.forEach((value, k) => {\n          // fixme: key might be a object, array, or any value for the `Map<any, any>`\n          const key = k.toString();\n          const path = [...props.path, key];\n          elements.push(/*#__PURE__*/jsx(DataKeyPair, {\n            path: path,\n            value: value,\n            prevValue: props.prevValue instanceof Map ? props.prevValue.get(k) : undefined,\n            editable: false,\n            last: index === lastIndex\n          }, key));\n          index++;\n        });\n      } else {\n        // iterate with iterator func\n        const iterator = value[Symbol.iterator]();\n        let result = iterator.next();\n        let count = 0;\n        while (true) {\n          const nextResult = iterator.next();\n          var _nextResult_done;\n          elements.push(/*#__PURE__*/jsx(DataKeyPair, {\n            path: [...props.path, \"iterator:\".concat(count)],\n            value: result.value,\n            nestedIndex: count,\n            editable: false,\n            last: (_nextResult_done = nextResult.done) !== null && _nextResult_done !== void 0 ? _nextResult_done : false\n          }, count));\n          if (nextResult.done) {\n            break;\n          }\n          count++;\n          result = nextResult;\n        }\n      }\n      return elements;\n    }\n    if (Array.isArray(value)) {\n      const lastIndex = value.length - 1;\n      // unknown[]\n      if (value.length <= groupArraysAfterLength) {\n        const elements = value.slice(0, displayLength).map((value, _index) => {\n          const index = props.nestedIndex ? props.nestedIndex * groupArraysAfterLength + _index : _index;\n          const path = [...props.path, index];\n          return /*#__PURE__*/jsx(DataKeyPair, {\n            path: path,\n            value: value,\n            prevValue: Array.isArray(props.prevValue) ? props.prevValue[index] : undefined,\n            last: _index === lastIndex\n          }, index);\n        });\n        if (value.length > displayLength) {\n          const rest = value.length - displayLength;\n          elements.push(/*#__PURE__*/jsxs(DataBox, {\n            sx: {\n              cursor: 'pointer',\n              lineHeight: 1.5,\n              color: keyColor,\n              letterSpacing: 0.5,\n              opacity: 0.8,\n              userSelect: 'none'\n            },\n            onClick: () => setDisplayLength(length => length * 2),\n            children: [\"hidden \", rest, \" items…\"]\n          }, \"last\"));\n        }\n        return elements;\n      }\n      const elements = segmentArray(value, groupArraysAfterLength);\n      const prevElements = Array.isArray(props.prevValue) ? segmentArray(props.prevValue, groupArraysAfterLength) : undefined;\n      const elementsLastIndex = elements.length - 1;\n      return elements.map((list, index) => {\n        return /*#__PURE__*/jsx(DataKeyPair, {\n          path: props.path,\n          value: list,\n          nestedIndex: index,\n          prevValue: prevElements === null || prevElements === void 0 ? void 0 : prevElements[index],\n          last: index === elementsLastIndex\n        }, index);\n      });\n    }\n    // object\n    let entries = Object.entries(value);\n    if (objectSortKeys) {\n      entries = objectSortKeys === true ? entries.sort((param, param1) => {\n        let [a] = param,\n          [b] = param1;\n        return a.localeCompare(b);\n      }) : entries.sort((param, param1) => {\n        let [a] = param,\n          [b] = param1;\n        return objectSortKeys(a, b);\n      });\n    }\n    const lastIndex = entries.length - 1;\n    const elements = entries.slice(0, displayLength).map((param, index) => {\n      let [key, value] = param;\n      var _props_prevValue;\n      const path = [...props.path, key];\n      return /*#__PURE__*/jsx(DataKeyPair, {\n        path: path,\n        value: value,\n        prevValue: (_props_prevValue = props.prevValue) === null || _props_prevValue === void 0 ? void 0 : _props_prevValue[key],\n        last: index === lastIndex\n      }, key);\n    });\n    if (entries.length > displayLength) {\n      const rest = entries.length - displayLength;\n      elements.push(/*#__PURE__*/jsxs(DataBox, {\n        sx: {\n          cursor: 'pointer',\n          lineHeight: 1.5,\n          color: keyColor,\n          letterSpacing: 0.5,\n          opacity: 0.8,\n          userSelect: 'none'\n        },\n        onClick: () => setDisplayLength(length => length * 2),\n        children: [\"hidden \", rest, \" items…\"]\n      }, \"last\"));\n    }\n    return elements;\n  }, [props.inspect, props.value, props.prevValue, props.path, props.nestedIndex, groupArraysAfterLength, displayLength, keyColor, objectSortKeys]);\n  const marginLeft = props.inspect ? 0.6 : 0;\n  const width = useJsonViewerStore(store => store.indentWidth);\n  const indentWidth = props.inspect ? width - marginLeft : width;\n  const isEmptyValue = useMemo(() => getValueSize(props.value) === 0, [props.value]);\n  if (isEmptyValue) {\n    return null;\n  }\n  return /*#__PURE__*/jsx(Box, {\n    className: \"data-object\",\n    sx: {\n      display: props.inspect ? 'block' : 'inline-block',\n      pl: props.inspect ? indentWidth - 0.6 : 0,\n      marginLeft,\n      color: keyColor,\n      borderLeft: props.inspect ? \"1px solid \".concat(borderColor) : 'none'\n    },\n    children: props.inspect ? elements : !isTrap && /*#__PURE__*/jsx(Box, {\n      component: \"span\",\n      className: \"data-object-body\",\n      onClick: () => props.setInspect(true),\n      sx: {\n        '&:hover': {\n          cursor: 'pointer'\n        },\n        padding: 0.5,\n        userSelect: 'none'\n      },\n      children: \"…\"\n    })\n  });\n};\nconst objectType = {\n  is: value => typeof value === 'object',\n  Component: ObjectType,\n  PreComponent: PreObjectType,\n  PostComponent: PostObjectType\n};\nconst stringType = defineEasyType({\n  is: value => typeof value === 'string',\n  type: 'string',\n  colorKey: 'base09',\n  serialize: value => value,\n  deserialize: value => value,\n  Renderer: props => {\n    const [showRest, setShowRest] = useState(false);\n    const collapseStringsAfterLength = useJsonViewerStore(store => store.collapseStringsAfterLength);\n    const value = showRest ? props.value : props.value.slice(0, collapseStringsAfterLength);\n    const hasRest = props.value.length > collapseStringsAfterLength;\n    return /*#__PURE__*/jsxs(Box, {\n      component: \"span\",\n      sx: {\n        overflowWrap: 'anywhere',\n        cursor: hasRest ? 'pointer' : 'inherit'\n      },\n      onClick: () => {\n        var _window_getSelection;\n        if (((_window_getSelection = window.getSelection()) === null || _window_getSelection === void 0 ? void 0 : _window_getSelection.type) === 'Range') {\n          return;\n        }\n        if (hasRest) {\n          setShowRest(value => !value);\n        }\n      },\n      children: ['\"', value, hasRest && !showRest && /*#__PURE__*/jsx(Box, {\n        component: \"span\",\n        sx: {\n          padding: 0.5\n        },\n        children: \"…\"\n      }), '\"']\n    });\n  }\n});\nconst undefinedType = defineEasyType({\n  is: value => value === undefined,\n  type: 'undefined',\n  colorKey: 'base05',\n  displayTypeLabel: false,\n  Renderer: () => {\n    const backgroundColor = useJsonViewerStore(store => store.colorspace.base02);\n    return /*#__PURE__*/jsx(Box, {\n      sx: {\n        fontSize: '0.7rem',\n        backgroundColor,\n        borderRadius: '3px',\n        padding: '0.5px 2px'\n      },\n      children: \"undefined\"\n    });\n  }\n});\nfunction memorizeDataType(dataType) {\n  function compare(prevProps, nextProps) {\n    var _prevProps_path, _nextProps_path;\n    return Object.is(prevProps.value, nextProps.value) && prevProps.inspect && nextProps.inspect && ((_prevProps_path = prevProps.path) === null || _prevProps_path === void 0 ? void 0 : _prevProps_path.join('.')) === ((_nextProps_path = nextProps.path) === null || _nextProps_path === void 0 ? void 0 : _nextProps_path.join('.'));\n  }\n  dataType.Component = /*#__PURE__*/memo(dataType.Component, compare);\n  if (dataType.Editor) {\n    dataType.Editor = /*#__PURE__*/memo(dataType.Editor, function compare(prevProps, nextProps) {\n      return Object.is(prevProps.value, nextProps.value);\n    });\n  }\n  if (dataType.PreComponent) {\n    dataType.PreComponent = /*#__PURE__*/memo(dataType.PreComponent, compare);\n  }\n  if (dataType.PostComponent) {\n    dataType.PostComponent = /*#__PURE__*/memo(dataType.PostComponent, compare);\n  }\n  return dataType;\n}\nconst predefinedTypes = [memorizeDataType(booleanType), memorizeDataType(dateType), memorizeDataType(nullType), memorizeDataType(undefinedType), memorizeDataType(stringType), memorizeDataType(functionType), memorizeDataType(nanType), memorizeDataType(intType), memorizeDataType(floatType), memorizeDataType(bigIntType)];\nconst createTypeRegistryStore = () => {\n  return createStore()(set => ({\n    registry: predefinedTypes,\n    registerTypes: setState => {\n      set(state => ({\n        registry: typeof setState === 'function' ? setState(state.registry) : setState\n      }));\n    }\n  }));\n};\n// @ts-expect-error we intentionally want to pass undefined to the context\n// See https://github.com/DefinitelyTyped/DefinitelyTyped/pull/24509#issuecomment-382213106\nconst TypeRegistryStoreContext = /*#__PURE__*/createContext(undefined);\nTypeRegistryStoreContext.Provider;\nconst useTypeRegistryStore = (selector, equalityFn) => {\n  const store = useContext(TypeRegistryStoreContext);\n  return useStore(store, selector, equalityFn);\n};\nfunction matchTypeComponents(value, path, registry) {\n  let potential;\n  for (const T of registry) {\n    if (T.is(value, path)) {\n      potential = T;\n    }\n  }\n  if (potential === undefined) {\n    if (typeof value === 'object') {\n      return objectType;\n    }\n    throw new Error(\"No type matched for value: \".concat(value));\n  }\n  return potential;\n}\nfunction useTypeComponents(value, path) {\n  const registry = useTypeRegistryStore(store => store.registry);\n  return useMemo(() => matchTypeComponents(value, path, registry), [value, path, registry]);\n}\nconst IconBox = props => /*#__PURE__*/jsx(Box, _objectSpread(_objectSpread({\n  component: \"span\"\n}, props), {}, {\n  sx: _objectSpread({\n    cursor: 'pointer',\n    paddingLeft: '0.7rem'\n  }, props.sx)\n}));\nconst DataKeyPair = props => {\n  const {\n    value,\n    prevValue,\n    path,\n    nestedIndex,\n    last\n  } = props;\n  const {\n    Component,\n    PreComponent,\n    PostComponent,\n    Editor,\n    serialize,\n    deserialize\n  } = useTypeComponents(value, path);\n  var _props_editable;\n  const propsEditable = (_props_editable = props.editable) !== null && _props_editable !== void 0 ? _props_editable : undefined;\n  const storeEditable = useJsonViewerStore(store => store.editable);\n  const editable = useMemo(() => {\n    if (storeEditable === false) {\n      return false;\n    }\n    if (propsEditable === false) {\n      // props.editable is false which means we cannot provide the suitable way to edit it\n      return false;\n    }\n    if (typeof storeEditable === 'function') {\n      return !!storeEditable(path, value);\n    }\n    return storeEditable;\n  }, [path, propsEditable, storeEditable, value]);\n  const [tempValue, setTempValue] = useState('');\n  const depth = path.length;\n  const key = path[depth - 1];\n  const hoverPath = useJsonViewerStore(store => store.hoverPath);\n  const isHover = useMemo(() => {\n    return hoverPath && path.every((value, index) => value === hoverPath.path[index] && nestedIndex === hoverPath.nestedIndex);\n  }, [hoverPath, path, nestedIndex]);\n  const setHover = useJsonViewerStore(store => store.setHover);\n  const root = useJsonViewerStore(store => store.value);\n  const [inspect, setInspect] = useInspect(path, value, nestedIndex);\n  const [editing, setEditing] = useState(false);\n  const onChange = useJsonViewerStore(store => store.onChange);\n  const keyColor = useTextColor();\n  const numberKeyColor = useJsonViewerStore(store => store.colorspace.base0C);\n  const highlightColor = useJsonViewerStore(store => store.colorspace.base0A);\n  const displayComma = useJsonViewerStore(store => store.displayComma);\n  const quotesOnKeys = useJsonViewerStore(store => store.quotesOnKeys);\n  const rootName = useJsonViewerStore(store => store.rootName);\n  const isRoot = root === value;\n  const isNumberKey = Number.isInteger(Number(key));\n  const storeEnableAdd = useJsonViewerStore(store => store.enableAdd);\n  const onAdd = useJsonViewerStore(store => store.onAdd);\n  const enableAdd = useMemo(() => {\n    if (!onAdd || nestedIndex !== undefined) return false;\n    if (storeEnableAdd === false) {\n      return false;\n    }\n    if (propsEditable === false) {\n      // props.editable is false which means we cannot provide the suitable way to edit it\n      return false;\n    }\n    if (typeof storeEnableAdd === 'function') {\n      return !!storeEnableAdd(path, value);\n    }\n    if (Array.isArray(value) || isPlainObject(value)) {\n      return true;\n    }\n    return false;\n  }, [onAdd, nestedIndex, path, storeEnableAdd, propsEditable, value]);\n  const storeEnableDelete = useJsonViewerStore(store => store.enableDelete);\n  const onDelete = useJsonViewerStore(store => store.onDelete);\n  const enableDelete = useMemo(() => {\n    if (!onDelete || nestedIndex !== undefined) return false;\n    if (isRoot) {\n      // don't allow delete root\n      return false;\n    }\n    if (storeEnableDelete === false) {\n      return false;\n    }\n    if (propsEditable === false) {\n      // props.editable is false which means we cannot provide the suitable way to edit it\n      return false;\n    }\n    if (typeof storeEnableDelete === 'function') {\n      return !!storeEnableDelete(path, value);\n    }\n    return storeEnableDelete;\n  }, [onDelete, nestedIndex, isRoot, path, storeEnableDelete, propsEditable, value]);\n  const enableClipboard = useJsonViewerStore(store => store.enableClipboard);\n  const {\n    copy,\n    copied\n  } = useClipboard();\n  const highlightUpdates = useJsonViewerStore(store => store.highlightUpdates);\n  const isHighlight = useMemo(() => {\n    if (!highlightUpdates || prevValue === undefined) return false;\n    // highlight if value type changed\n    if (typeof value !== typeof prevValue) {\n      return true;\n    }\n    if (typeof value === 'number') {\n      // notice: NaN !== NaN\n      if (isNaN(value) && isNaN(prevValue)) return false;\n      return value !== prevValue;\n    }\n    // highlight if isArray changed\n    if (Array.isArray(value) !== Array.isArray(prevValue)) {\n      return true;\n    }\n    // not highlight object/function\n    // deep compare they will be slow\n    if (typeof value === 'object' || typeof value === 'function') {\n      return false;\n    }\n    // highlight if not equal\n    if (value !== prevValue) {\n      return true;\n    }\n    return false;\n  }, [highlightUpdates, prevValue, value]);\n  const highlightContainer = useRef();\n  useEffect(() => {\n    if (highlightContainer.current && isHighlight && 'animate' in highlightContainer.current) {\n      highlightContainer.current.animate([{\n        backgroundColor: highlightColor\n      }, {\n        backgroundColor: ''\n      }], {\n        duration: 1000,\n        easing: 'ease-in'\n      });\n    }\n  }, [highlightColor, isHighlight, prevValue, value]);\n  const startEditing = useCallback(event => {\n    event.preventDefault();\n    if (serialize) setTempValue(serialize(value));\n    setEditing(true);\n  }, [serialize, value]);\n  const abortEditing = useCallback(() => {\n    setEditing(false);\n    setTempValue('');\n  }, [setEditing, setTempValue]);\n  const commitEditing = useCallback(newValue => {\n    setEditing(false);\n    if (!deserialize) return;\n    try {\n      onChange(path, value, deserialize(newValue));\n    } catch (e) {\n      // do nothing when deserialize failed\n    }\n  }, [setEditing, deserialize, onChange, path, value]);\n  const actionIcons = useMemo(() => {\n    if (editing) {\n      return /*#__PURE__*/jsxs(Fragment, {\n        children: [/*#__PURE__*/jsx(IconBox, {\n          children: /*#__PURE__*/jsx(CloseIcon, {\n            sx: {\n              fontSize: '.8rem'\n            },\n            onClick: abortEditing\n          })\n        }), /*#__PURE__*/jsx(IconBox, {\n          children: /*#__PURE__*/jsx(CheckIcon, {\n            sx: {\n              fontSize: '.8rem'\n            },\n            onClick: () => commitEditing(tempValue)\n          })\n        })]\n      });\n    }\n    return /*#__PURE__*/jsxs(Fragment, {\n      children: [enableClipboard && /*#__PURE__*/jsx(IconBox, {\n        onClick: event => {\n          event.preventDefault();\n          try {\n            copy(path, value, copyString);\n          } catch (e) {\n            // in some case, this will throw error\n            // fixme: `useAlert` hook\n            console.error(e);\n          }\n        },\n        children: copied ? /*#__PURE__*/jsx(CheckIcon, {\n          sx: {\n            fontSize: '.8rem'\n          }\n        }) : /*#__PURE__*/jsx(ContentCopyIcon, {\n          sx: {\n            fontSize: '.8rem'\n          }\n        })\n      }), Editor && editable && serialize && deserialize && /*#__PURE__*/jsx(IconBox, {\n        onClick: startEditing,\n        children: /*#__PURE__*/jsx(EditIcon, {\n          sx: {\n            fontSize: '.8rem'\n          }\n        })\n      }), enableAdd && /*#__PURE__*/jsx(IconBox, {\n        onClick: event => {\n          event.preventDefault();\n          onAdd === null || onAdd === void 0 ? void 0 : onAdd(path);\n        },\n        children: /*#__PURE__*/jsx(AddBoxIcon, {\n          sx: {\n            fontSize: '.8rem'\n          }\n        })\n      }), enableDelete && /*#__PURE__*/jsx(IconBox, {\n        onClick: event => {\n          event.preventDefault();\n          onDelete === null || onDelete === void 0 ? void 0 : onDelete(path, value);\n        },\n        children: /*#__PURE__*/jsx(DeleteIcon, {\n          sx: {\n            fontSize: '.9rem'\n          }\n        })\n      })]\n    });\n  }, [Editor, serialize, deserialize, copied, copy, editable, editing, enableClipboard, enableAdd, enableDelete, tempValue, path, value, onAdd, onDelete, startEditing, abortEditing, commitEditing]);\n  const isEmptyValue = useMemo(() => getValueSize(value) === 0, [value]);\n  const expandable = !isEmptyValue && !!(PreComponent && PostComponent);\n  const KeyRenderer = useJsonViewerStore(store => store.keyRenderer);\n  const downstreamProps = useMemo(() => ({\n    path,\n    inspect,\n    setInspect,\n    value,\n    prevValue,\n    nestedIndex\n  }), [inspect, path, setInspect, value, prevValue, nestedIndex]);\n  return /*#__PURE__*/jsxs(Box, {\n    className: \"data-key-pair\",\n    \"data-testid\": 'data-key-pair' + path.join('.'),\n    sx: {\n      userSelect: 'text'\n    },\n    onMouseEnter: useCallback(() => setHover(path, nestedIndex), [setHover, path, nestedIndex]),\n    children: [/*#__PURE__*/jsxs(DataBox, {\n      component: \"span\",\n      className: \"data-key\",\n      sx: {\n        lineHeight: 1.5,\n        color: keyColor,\n        letterSpacing: 0.5,\n        opacity: 0.8\n      },\n      onClick: useCallback(event => {\n        if (event.isDefaultPrevented()) {\n          return;\n        }\n        if (!isEmptyValue) {\n          setInspect(state => !state);\n        }\n      }, [isEmptyValue, setInspect]),\n      children: [expandable ? inspect ? /*#__PURE__*/jsx(ExpandMoreIcon, {\n        className: \"data-key-toggle-expanded\",\n        sx: {\n          fontSize: '.8rem',\n          '&:hover': {\n            cursor: 'pointer'\n          }\n        }\n      }) : /*#__PURE__*/jsx(ChevronRightIcon, {\n        className: \"data-key-toggle-collapsed\",\n        sx: {\n          fontSize: '.8rem',\n          '&:hover': {\n            cursor: 'pointer'\n          }\n        }\n      }) : null, /*#__PURE__*/jsx(Box, {\n        ref: highlightContainer,\n        className: \"data-key-key\",\n        component: \"span\",\n        children: isRoot && depth === 0 ? rootName !== false ? quotesOnKeys ? /*#__PURE__*/jsxs(Fragment, {\n          children: ['\"', rootName, '\"']\n        }) : /*#__PURE__*/jsx(Fragment, {\n          children: rootName\n        }) : null : KeyRenderer.when(downstreamProps) ? /*#__PURE__*/jsx(KeyRenderer, _objectSpread({}, downstreamProps)) : nestedIndex === undefined && (isNumberKey ? /*#__PURE__*/jsx(Box, {\n          component: \"span\",\n          style: {\n            color: numberKeyColor,\n            userSelect: isNumberKey ? 'none' : 'auto'\n          },\n          children: key\n        }) : quotesOnKeys ? /*#__PURE__*/jsxs(Fragment, {\n          children: ['\"', key, '\"']\n        }) : /*#__PURE__*/jsx(Fragment, {\n          children: key\n        }))\n      }), isRoot ? rootName !== false && /*#__PURE__*/jsx(DataBox, {\n        className: \"data-key-colon\",\n        sx: {\n          mr: 0.5\n        },\n        children: \":\"\n      }) : nestedIndex === undefined && /*#__PURE__*/jsx(DataBox, {\n        className: \"data-key-colon\",\n        sx: {\n          mr: 0.5,\n          '.data-key-key:empty + &': {\n            display: 'none'\n          },\n          userSelect: isNumberKey ? 'none' : 'auto'\n        },\n        children: \":\"\n      }), PreComponent && /*#__PURE__*/jsx(PreComponent, _objectSpread({}, downstreamProps)), isHover && expandable && inspect && actionIcons]\n    }), editing && editable ? Editor && /*#__PURE__*/jsx(Editor, {\n      path: path,\n      value: tempValue,\n      setValue: setTempValue,\n      abortEditing: abortEditing,\n      commitEditing: commitEditing\n    }) : Component ? /*#__PURE__*/jsx(Component, _objectSpread({}, downstreamProps)) : /*#__PURE__*/jsx(Box, {\n      component: \"span\",\n      className: \"data-value-fallback\",\n      children: \"fallback: \".concat(value)\n    }), PostComponent && /*#__PURE__*/jsx(PostComponent, _objectSpread({}, downstreamProps)), !last && displayComma && /*#__PURE__*/jsx(DataBox, {\n      children: \",\"\n    }), isHover && expandable && !inspect && actionIcons, isHover && !expandable && actionIcons, !isHover && editing && actionIcons]\n  });\n};\nconst query = '(prefers-color-scheme: dark)';\nfunction useThemeDetector() {\n  const [isDark, setIsDark] = useState(false);\n  useEffect(() => {\n    const listener = e => setIsDark(e.matches);\n    setIsDark(window.matchMedia(query).matches);\n    const queryMedia = window.matchMedia(query);\n    queryMedia.addEventListener('change', listener);\n    return () => queryMedia.removeEventListener('change', listener);\n  }, []);\n  return isDark;\n}\n\n/**\r\n * @internal\r\n */\nfunction useSetIfNotUndefinedEffect(key, value) {\n  const {\n    setState\n  } = useContext(JsonViewerStoreContext);\n  useEffect(() => {\n    if (value !== undefined) {\n      setState({\n        [key]: value\n      });\n    }\n  }, [key, value, setState]);\n}\n/**\r\n * @internal\r\n */\nconst JsonViewerInner = props => {\n  const {\n    setState\n  } = useContext(JsonViewerStoreContext);\n  useEffect(() => {\n    setState(state => ({\n      prevValue: state.value,\n      value: props.value\n    }));\n  }, [props.value, setState]);\n  useSetIfNotUndefinedEffect('rootName', props.rootName);\n  useSetIfNotUndefinedEffect('indentWidth', props.indentWidth);\n  useSetIfNotUndefinedEffect('keyRenderer', props.keyRenderer);\n  useSetIfNotUndefinedEffect('enableAdd', props.enableAdd);\n  useSetIfNotUndefinedEffect('enableDelete', props.enableDelete);\n  useSetIfNotUndefinedEffect('enableClipboard', props.enableClipboard);\n  useSetIfNotUndefinedEffect('editable', props.editable);\n  useSetIfNotUndefinedEffect('onChange', props.onChange);\n  useSetIfNotUndefinedEffect('onCopy', props.onCopy);\n  useSetIfNotUndefinedEffect('onSelect', props.onSelect);\n  useSetIfNotUndefinedEffect('onAdd', props.onAdd);\n  useSetIfNotUndefinedEffect('onDelete', props.onDelete);\n  useSetIfNotUndefinedEffect('maxDisplayLength', props.maxDisplayLength);\n  useSetIfNotUndefinedEffect('groupArraysAfterLength', props.groupArraysAfterLength);\n  useSetIfNotUndefinedEffect('quotesOnKeys', props.quotesOnKeys);\n  useSetIfNotUndefinedEffect('displayDataTypes', props.displayDataTypes);\n  useSetIfNotUndefinedEffect('displaySize', props.displaySize);\n  useSetIfNotUndefinedEffect('displayComma', props.displayComma);\n  useSetIfNotUndefinedEffect('highlightUpdates', props.highlightUpdates);\n  useEffect(() => {\n    if (props.theme === 'light') {\n      setState({\n        colorspace: lightColorspace\n      });\n    } else if (props.theme === 'dark') {\n      setState({\n        colorspace: darkColorspace\n      });\n    } else if (typeof props.theme === 'object') {\n      setState({\n        colorspace: props.theme\n      });\n    }\n  }, [setState, props.theme]);\n  const themeCls = useMemo(() => {\n    if (typeof props.theme === 'object') return 'json-viewer-theme-custom';\n    return props.theme === 'dark' ? 'json-viewer-theme-dark' : 'json-viewer-theme-light';\n  }, [props.theme]);\n  const onceRef = useRef(true);\n  const registerTypes = useTypeRegistryStore(store => store.registerTypes);\n  if (onceRef.current) {\n    const allTypes = props.valueTypes ? [...predefinedTypes, ...props.valueTypes] : [...predefinedTypes];\n    registerTypes(allTypes);\n    onceRef.current = false;\n  }\n  useEffect(() => {\n    const allTypes = props.valueTypes ? [...predefinedTypes, ...props.valueTypes] : [...predefinedTypes];\n    registerTypes(allTypes);\n  }, [props.valueTypes, registerTypes]);\n  const value = useJsonViewerStore(store => store.value);\n  const prevValue = useJsonViewerStore(store => store.prevValue);\n  const emptyPath = useMemo(() => [], []);\n  const setHover = useJsonViewerStore(store => store.setHover);\n  const onMouseLeave = useCallback(() => setHover(null), [setHover]);\n  return /*#__PURE__*/jsx(Paper, {\n    elevation: 0,\n    className: clsx(themeCls, props.className),\n    style: props.style,\n    sx: _objectSpread({\n      fontFamily: 'monospace',\n      userSelect: 'none',\n      contentVisibility: 'auto'\n    }, props.sx),\n    onMouseLeave: onMouseLeave,\n    children: /*#__PURE__*/jsx(DataKeyPair, {\n      value: value,\n      prevValue: prevValue,\n      path: emptyPath,\n      last: true\n    })\n  });\n};\nconst JsonViewer = function JsonViewer(props) {\n  if (process.env.NODE_ENV !== 'production') {\n    if ('displayObjectSize' in props) {\n      console.error('`displayObjectSize` is deprecated. Use `displaySize` instead.\\nSee https://viewer.textea.io/migration/migration-v3#raname-displayobjectsize-to-displaysize for more information.');\n    }\n  }\n  const isAutoDarkTheme = useThemeDetector();\n  const themeType = useMemo(() => {\n    var _props_theme;\n    return props.theme === 'auto' ? isAutoDarkTheme ? 'dark' : 'light' : (_props_theme = props.theme) !== null && _props_theme !== void 0 ? _props_theme : 'light';\n  }, [isAutoDarkTheme, props.theme]);\n  const theme = useMemo(() => {\n    const backgroundColor = typeof themeType === 'object' ? themeType.base00 : themeType === 'dark' ? darkColorspace.base00 : lightColorspace.base00;\n    const foregroundColor = typeof themeType === 'object' ? themeType.base07 : themeType === 'dark' ? darkColorspace.base07 : lightColorspace.base07;\n    return createTheme({\n      components: {\n        MuiPaper: {\n          styleOverrides: {\n            root: {\n              backgroundColor,\n              color: foregroundColor\n            }\n          }\n        }\n      },\n      palette: {\n        mode: themeType === 'dark' ? 'dark' : 'light',\n        background: {\n          default: backgroundColor\n        }\n      }\n    });\n  }, [themeType]);\n  const mixedProps = _objectSpread(_objectSpread({}, props), {}, {\n    theme: themeType\n  });\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const jsonViewerStore = useMemo(() => createJsonViewerStore(props), []);\n  const typeRegistryStore = useMemo(() => createTypeRegistryStore(), []);\n  return /*#__PURE__*/jsx(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/jsx(TypeRegistryStoreContext.Provider, {\n      value: typeRegistryStore,\n      children: /*#__PURE__*/jsx(JsonViewerStoreContext.Provider, {\n        value: jsonViewerStore,\n        children: /*#__PURE__*/jsx(JsonViewerInner, _objectSpread({}, mixedProps))\n      })\n    })\n  });\n};\nexport { JsonViewer, applyValue, bigIntType, booleanType, createDataType, darkColorspace, dateType, defineDataType, defineEasyType, deleteValue, floatType, functionType, getPathValue, intType, isCycleReference, lightColorspace, nanType, nullType, objectType, pathValueDefaultGetter, safeStringify, stringType, undefinedType };","map":{"version":3,"names":["jsx","jsxs","Fragment","Box","InputBase","NoSsr","SvgIcon","createTheme","ThemeProvider","Paper","createContext","useContext","useState","useRef","useCallback","useMemo","useEffect","memo","create","useStore","createStore","copyToClipboard","r","e","t","f","n","Array","isArray","o","length","clsx","arguments","lightColorspace","scheme","author","base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F","darkColorspace","DefaultKeyRenderer","when","createJsonViewerStore","props","set","get","_props_rootName","_props_indentWidth","_props_keyRenderer","_props_enableAdd","_props_enableDelete","_props_enableClipboard","_props_editable","_props_onChange","_props_onCopy","_props_onSelect","_props_onAdd","_props_onDelete","_props_defaultInspectDepth","_props_defaultInspectControl","_props_maxDisplayLength","_props_groupArraysAfterLength","_props_collapseStringsAfterLength","_props_objectSortKeys","_props_quotesOnKeys","_props_displayDataTypes","_props_displaySize","_props_displayComma","_props_highlightUpdates","rootName","indentWidth","keyRenderer","enableAdd","enableDelete","enableClipboard","editable","onChange","onCopy","undefined","onSelect","onAdd","onDelete","defaultInspectDepth","defaultInspectControl","maxDisplayLength","groupArraysAfterLength","collapseStringsAfterLength","Number","MAX_VALUE","objectSortKeys","quotesOnKeys","displayDataTypes","displaySize","displayComma","highlightUpdates","inspectCache","hoverPath","colorspace","value","prevValue","getInspectCache","path","nestedIndex","target","join","concat","setInspectCache","action","state","_objectSpread","setHover","JsonViewerStoreContext","Provider","useJsonViewerStore","selector","equalityFn","store","useTextColor","objectCtorString","Object","prototype","constructor","toString","isPlainObject","proto","getPrototypeOf","Ctor","hasOwnProperty","call","Function","shouldShallowCopy","Map","Set","shallowCopy","slice","assign","_applyValue","input","visitedMapping","Error","shouldCopy","copiedInput","key","restPath","TypeError","applyValue","deleteValue","splice","createDataType","is","Component","Editor","PreComponent","PostComponent","process","env","NODE_ENV","console","warn","defineDataType","param","serialize","deserialize","isCycleReference","root","currentPath","arr","currentRoot","reduce","currentIndex","shift","push","getValueSize","size","Date","keys","segmentArray","result","index","safeStringify","obj","space","seenValues","replacer","toJSON","includes","entries","from","every","fromEntries","values","stackSize","pop","JSON","stringify","copyString","navigator","clipboard","writeText","_unused","pathValueDefaultGetter","WeakMap","WeakSet","getPathValue","customGetters","acc","error","handler","useClipboard","timeout","copied","setCopied","copyTimeout","handleCopyResult","current","window","clearTimeout","setTimeout","copy","valueToCopy","reset","useIsCycleReference","rootValue","useInspect","depth","isTrap","inspect","shouldInspect","setInspect","apply","oldState","newState","DataBox","component","sx","display","DataTypeLabel","dataType","enable","className","mx","fontSize","opacity","userSelect","children","defineEasyType","type","colorKey","displayTypeLabel","Renderer","Render","EasyType","storeDisplayDataTypes","color","onClick","displayName","EasyTypeEditor","setValue","abortEditing","commitEditing","handleKeyDown","event","preventDefault","handleChange","autoFocus","onKeyDown","multiline","padding","borderStyle","borderColor","borderWidth","fontFamily","booleanType","displayOptions","weekday","year","month","day","hour","minute","dateType","toLocaleTimeString","functionBody","func","funcString","isUsualFunction","parenthesisPos","indexOf","arrowPos","substring","lastIndexOf","functionName","trim","lb","rb","PreFunctionType","letterSpacing","PostFunctionType","FunctionType","functionColor","pl","cursor","functionType","nullType","backgroundColor","fontWeight","borderRadius","isInt","nanType","isNaN","parseFloat","floatType","intType","bigIntType","BigInt","replace","BaseIcon","d","_objectWithoutProperties","_excluded","AddBox","Check","ChevronRight","CircularArrows","Close","ContentCopy","Edit","ExpandMore","Delete","AddBoxIcon","CheckIcon","ChevronRightIcon","CircularArrowsIcon","CloseIcon","ContentCopyIcon","EditIcon","ExpandMoreIcon","DeleteIcon","objectLb","arrayLb","objectRb","arrayRb","inspectMetadata","name","Symbol","toStringTag","PreObjectType","metadataColor","textColor","isArrayLike","isEmptyValue","sizeOfValue","shouldDisplaySize","fontStyle","PostObjectType","lineHeight","getIterator","iterator","ObjectType","keyColor","displayLength","setDisplayLength","elements","lastIndex","forEach","k","DataKeyPair","last","next","count","nextResult","_nextResult_done","done","map","_index","rest","prevElements","elementsLastIndex","list","sort","param1","a","b","localeCompare","_props_prevValue","marginLeft","width","borderLeft","objectType","stringType","showRest","setShowRest","hasRest","overflowWrap","_window_getSelection","getSelection","undefinedType","memorizeDataType","compare","prevProps","nextProps","_prevProps_path","_nextProps_path","predefinedTypes","createTypeRegistryStore","registry","registerTypes","setState","TypeRegistryStoreContext","useTypeRegistryStore","matchTypeComponents","potential","T","useTypeComponents","IconBox","paddingLeft","propsEditable","storeEditable","tempValue","setTempValue","isHover","editing","setEditing","numberKeyColor","highlightColor","isRoot","isNumberKey","isInteger","storeEnableAdd","storeEnableDelete","isHighlight","highlightContainer","animate","duration","easing","startEditing","newValue","actionIcons","expandable","KeyRenderer","downstreamProps","onMouseEnter","isDefaultPrevented","ref","style","mr","query","useThemeDetector","isDark","setIsDark","listener","matches","matchMedia","queryMedia","addEventListener","removeEventListener","useSetIfNotUndefinedEffect","JsonViewerInner","theme","themeCls","onceRef","allTypes","valueTypes","emptyPath","onMouseLeave","elevation","contentVisibility","JsonViewer","isAutoDarkTheme","themeType","_props_theme","foregroundColor","components","MuiPaper","styleOverrides","palette","mode","background","default","mixedProps","jsonViewerStore","typeRegistryStore"],"sources":["/Users/elias/Documents/Trabajo/Pruebas-del-IMSS/Simulacion/frontend/node_modules/@textea/json-viewer/dist/index.mjs"],"sourcesContent":["/// <reference types=\"./index.d.ts\" />\nimport { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { Box, InputBase, NoSsr, SvgIcon, createTheme, ThemeProvider, Paper } from '@mui/material';\nimport { createContext, useContext, useState, useRef, useCallback, useMemo, useEffect, memo } from 'react';\nimport { create, useStore, createStore } from 'zustand';\nimport copyToClipboard from 'copy-to-clipboard';\n\nfunction r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}\n\nconst lightColorspace = {\n    scheme: 'Light Theme',\n    author: 'mac gainor (https://github.com/mac-s-g)',\n    base00: 'rgba(0, 0, 0, 0)',\n    base01: 'rgb(245, 245, 245)',\n    base02: 'rgb(235, 235, 235)',\n    base03: '#93a1a1',\n    base04: 'rgba(0, 0, 0, 0.3)',\n    base05: '#586e75',\n    base06: '#073642',\n    base07: '#002b36',\n    base08: '#d33682',\n    base09: '#cb4b16',\n    base0A: '#ffd500',\n    base0B: '#859900',\n    base0C: '#6c71c4',\n    base0D: '#586e75',\n    base0E: '#2aa198',\n    base0F: '#268bd2'\n};\nconst darkColorspace = {\n    scheme: 'Dark Theme',\n    author: 'Chris Kempson (http://chriskempson.com)',\n    base00: '#181818',\n    base01: '#282828',\n    base02: '#383838',\n    base03: '#585858',\n    base04: '#b8b8b8',\n    base05: '#d8d8d8',\n    base06: '#e8e8e8',\n    base07: '#f8f8f8',\n    base08: '#ab4642',\n    base09: '#dc9656',\n    base0A: '#f7ca88',\n    base0B: '#a1b56c',\n    base0C: '#86c1b9',\n    base0D: '#7cafc2',\n    base0E: '#ba8baf',\n    base0F: '#a16946'\n};\n\nconst DefaultKeyRenderer = ()=>null;\nDefaultKeyRenderer.when = ()=>false;\nconst createJsonViewerStore = (props)=>{\n    return create()((set, get)=>{\n        var _props_rootName, _props_indentWidth, _props_keyRenderer, _props_enableAdd, _props_enableDelete, _props_enableClipboard, _props_editable, _props_onChange, _props_onCopy, _props_onSelect, _props_onAdd, _props_onDelete, _props_defaultInspectDepth, _props_defaultInspectControl, _props_maxDisplayLength, _props_groupArraysAfterLength, _props_collapseStringsAfterLength, _props_objectSortKeys, _props_quotesOnKeys, _props_displayDataTypes, _props_displaySize, _props_displayComma, _props_highlightUpdates;\n        return {\n            // provided by user\n            rootName: (_props_rootName = props.rootName) !== null && _props_rootName !== void 0 ? _props_rootName : 'root',\n            indentWidth: (_props_indentWidth = props.indentWidth) !== null && _props_indentWidth !== void 0 ? _props_indentWidth : 3,\n            keyRenderer: (_props_keyRenderer = props.keyRenderer) !== null && _props_keyRenderer !== void 0 ? _props_keyRenderer : DefaultKeyRenderer,\n            enableAdd: (_props_enableAdd = props.enableAdd) !== null && _props_enableAdd !== void 0 ? _props_enableAdd : false,\n            enableDelete: (_props_enableDelete = props.enableDelete) !== null && _props_enableDelete !== void 0 ? _props_enableDelete : false,\n            enableClipboard: (_props_enableClipboard = props.enableClipboard) !== null && _props_enableClipboard !== void 0 ? _props_enableClipboard : true,\n            editable: (_props_editable = props.editable) !== null && _props_editable !== void 0 ? _props_editable : false,\n            onChange: (_props_onChange = props.onChange) !== null && _props_onChange !== void 0 ? _props_onChange : ()=>{},\n            onCopy: (_props_onCopy = props.onCopy) !== null && _props_onCopy !== void 0 ? _props_onCopy : undefined,\n            onSelect: (_props_onSelect = props.onSelect) !== null && _props_onSelect !== void 0 ? _props_onSelect : undefined,\n            onAdd: (_props_onAdd = props.onAdd) !== null && _props_onAdd !== void 0 ? _props_onAdd : undefined,\n            onDelete: (_props_onDelete = props.onDelete) !== null && _props_onDelete !== void 0 ? _props_onDelete : undefined,\n            defaultInspectDepth: (_props_defaultInspectDepth = props.defaultInspectDepth) !== null && _props_defaultInspectDepth !== void 0 ? _props_defaultInspectDepth : 5,\n            defaultInspectControl: (_props_defaultInspectControl = props.defaultInspectControl) !== null && _props_defaultInspectControl !== void 0 ? _props_defaultInspectControl : undefined,\n            maxDisplayLength: (_props_maxDisplayLength = props.maxDisplayLength) !== null && _props_maxDisplayLength !== void 0 ? _props_maxDisplayLength : 30,\n            groupArraysAfterLength: (_props_groupArraysAfterLength = props.groupArraysAfterLength) !== null && _props_groupArraysAfterLength !== void 0 ? _props_groupArraysAfterLength : 100,\n            collapseStringsAfterLength: props.collapseStringsAfterLength === false ? Number.MAX_VALUE : (_props_collapseStringsAfterLength = props.collapseStringsAfterLength) !== null && _props_collapseStringsAfterLength !== void 0 ? _props_collapseStringsAfterLength : 50,\n            objectSortKeys: (_props_objectSortKeys = props.objectSortKeys) !== null && _props_objectSortKeys !== void 0 ? _props_objectSortKeys : false,\n            quotesOnKeys: (_props_quotesOnKeys = props.quotesOnKeys) !== null && _props_quotesOnKeys !== void 0 ? _props_quotesOnKeys : true,\n            displayDataTypes: (_props_displayDataTypes = props.displayDataTypes) !== null && _props_displayDataTypes !== void 0 ? _props_displayDataTypes : true,\n            displaySize: (_props_displaySize = props.displaySize) !== null && _props_displaySize !== void 0 ? _props_displaySize : true,\n            displayComma: (_props_displayComma = props.displayComma) !== null && _props_displayComma !== void 0 ? _props_displayComma : false,\n            highlightUpdates: (_props_highlightUpdates = props.highlightUpdates) !== null && _props_highlightUpdates !== void 0 ? _props_highlightUpdates : false,\n            // internal state\n            inspectCache: {},\n            hoverPath: null,\n            colorspace: lightColorspace,\n            value: props.value,\n            prevValue: undefined,\n            getInspectCache: (path, nestedIndex)=>{\n                const target = nestedIndex !== undefined ? path.join('.') + \"[\".concat(nestedIndex, \"]nt\") : path.join('.');\n                return get().inspectCache[target];\n            },\n            setInspectCache: (path, action, nestedIndex)=>{\n                const target = nestedIndex !== undefined ? path.join('.') + \"[\".concat(nestedIndex, \"]nt\") : path.join('.');\n                set((state)=>({\n                        inspectCache: {\n                            ...state.inspectCache,\n                            [target]: typeof action === 'function' ? action(state.inspectCache[target]) : action\n                        }\n                    }));\n            },\n            setHover: (path, nestedIndex)=>{\n                set({\n                    hoverPath: path ? {\n                        path,\n                        nestedIndex\n                    } : null\n                });\n            }\n        };\n    });\n};\n// @ts-expect-error we intentionally want to pass undefined to the context\n// See https://github.com/DefinitelyTyped/DefinitelyTyped/pull/24509#issuecomment-382213106\nconst JsonViewerStoreContext = createContext(undefined);\nJsonViewerStoreContext.Provider;\nconst useJsonViewerStore = (selector, equalityFn)=>{\n    const store = useContext(JsonViewerStoreContext);\n    return useStore(store, selector, equalityFn);\n};\n\nconst useTextColor = ()=>{\n    return useJsonViewerStore((store)=>store.colorspace.base07);\n};\n\n// reference: https://github.com/immerjs/immer/blob/main/src/utils/common.ts\nconst objectCtorString = Object.prototype.constructor.toString();\nfunction isPlainObject(value) {\n    if (!value || typeof value !== 'object') return false;\n    const proto = Object.getPrototypeOf(value);\n    if (proto === null) return true;\n    const Ctor = Object.hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n    if (Ctor === Object) return true;\n    return typeof Ctor === 'function' && Function.toString.call(Ctor) === objectCtorString;\n}\nfunction shouldShallowCopy(value) {\n    if (!value) return false;\n    return isPlainObject(value) || Array.isArray(value) || value instanceof Map || value instanceof Set;\n}\nfunction shallowCopy(value) {\n    if (Array.isArray(value)) return Array.prototype.slice.call(value);\n    if (value instanceof Set) return new Set(value);\n    if (value instanceof Map) return new Map(value);\n    if (typeof value === 'object' && value !== null) {\n        return Object.assign({}, value);\n    }\n    return value;\n}\nfunction _applyValue(input, path, value) {\n    let visitedMapping = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : new Map();\n    if (typeof input !== 'object' || input === null) {\n        if (path.length !== 0) {\n            throw new Error('path is incorrect');\n        }\n        return value;\n    }\n    const shouldCopy = shouldShallowCopy(input);\n    if (shouldCopy) {\n        let copiedInput = visitedMapping.get(input);\n        if (!copiedInput) {\n            copiedInput = shallowCopy(input);\n            visitedMapping.set(input, copiedInput);\n        }\n        input = copiedInput;\n    }\n    const [key, ...restPath] = path;\n    if (key !== undefined) {\n        if (key === '__proto__') {\n            throw new TypeError('Modification of prototype is not allowed');\n        }\n        if (restPath.length > 0) {\n            input[key] = _applyValue(input[key], restPath, value, visitedMapping);\n        } else {\n            input[key] = value;\n        }\n    }\n    return input;\n}\n/**\r\n * Apply a value to a given path of an object.\r\n */ function applyValue(input, path, value) {\n    return _applyValue(input, path, value);\n}\n/**\r\n * Delete a value from a given path of an object.\r\n */ function deleteValue(input, path, value) {\n    if (typeof input !== 'object' || input === null) {\n        if (path.length !== 0) {\n            throw new Error('path is incorrect');\n        }\n        return value;\n    }\n    const shouldCopy = shouldShallowCopy(input);\n    if (shouldCopy) input = shallowCopy(input);\n    const [key, ...restPath] = path;\n    if (key !== undefined) {\n        if (key === '__proto__') {\n            throw new TypeError('Modification of prototype is not allowed');\n        }\n        if (restPath.length > 0) {\n            input[key] = deleteValue(input[key], restPath, value);\n        } else {\n            if (Array.isArray(input)) {\n                input.splice(Number(key), 1);\n            } else {\n                delete input[key];\n            }\n        }\n    }\n    return input;\n}\n/**\r\n * @deprecated use `defineDataType` instead\r\n */ function createDataType(is, Component, Editor, PreComponent, PostComponent) {\n    if (process.env.NODE_ENV !== 'production') {\n        console.warn('createDataType is deprecated, please use `defineDataType` instead. See https://viewer.textea.io/migration/migration-v3#use-definedatatype-instead-of-createdatatype for more information.');\n    }\n    return {\n        is,\n        Component,\n        Editor,\n        PreComponent,\n        PostComponent\n    };\n}\n/**\r\n * Define custom data types for any data structure\r\n */ function defineDataType(param) {\n    let { is, serialize, deserialize, Component, Editor, PreComponent, PostComponent } = param;\n    return {\n        is,\n        serialize,\n        deserialize,\n        Component,\n        Editor,\n        PreComponent,\n        PostComponent\n    };\n}\nconst isCycleReference = (root, path, value)=>{\n    if (root === null || value === null) {\n        return false;\n    }\n    if (typeof root !== 'object') {\n        return false;\n    }\n    if (typeof value !== 'object') {\n        return false;\n    }\n    if (Object.is(root, value) && path.length !== 0) {\n        return '';\n    }\n    const currentPath = [];\n    const arr = [\n        ...path\n    ];\n    let currentRoot = root;\n    while(currentRoot !== value || arr.length !== 0){\n        if (typeof currentRoot !== 'object' || currentRoot === null) {\n            return false;\n        }\n        if (Object.is(currentRoot, value)) {\n            return currentPath.reduce((path, value, currentIndex)=>{\n                if (typeof value === 'number') {\n                    return path + \"[\".concat(value, \"]\");\n                }\n                return path + \"\".concat(currentIndex === 0 ? '' : '.').concat(value);\n            }, '');\n        }\n        const target = arr.shift();\n        currentPath.push(target);\n        currentRoot = currentRoot[target];\n    }\n    return false;\n};\nfunction getValueSize(value) {\n    if (value === null || undefined) {\n        return 0;\n    } else if (Array.isArray(value)) {\n        return value.length;\n    } else if (value instanceof Map || value instanceof Set) {\n        return value.size;\n    } else if (value instanceof Date) {\n        return 1;\n    } else if (typeof value === 'object') {\n        return Object.keys(value).length;\n    } else if (typeof value === 'string') {\n        return value.length;\n    }\n    return 1;\n}\nfunction segmentArray(arr, size) {\n    const result = [];\n    let index = 0;\n    while(index < arr.length){\n        result.push(arr.slice(index, index + size));\n        index += size;\n    }\n    return result;\n}\n/**\r\n * A safe version of `JSON.stringify` that handles circular references and BigInts.\r\n *\r\n * *This function might be changed in the future to support more types. Use it with caution.*\r\n *\r\n * @param obj A JavaScript value, usually an object or array, to be converted.\r\n * @param space Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read.\r\n * @returns\r\n */ function safeStringify(obj, space) {\n    const seenValues = [];\n    function replacer(key, value) {\n        // https://github.com/GoogleChromeLabs/jsbi/issues/30\n        if (typeof value === 'bigint') return value.toString();\n        // Map and Set are not supported by JSON.stringify\n        if (value instanceof Map) {\n            if ('toJSON' in value && typeof value.toJSON === 'function') return value.toJSON();\n            if (value.size === 0) return {};\n            if (seenValues.includes(value)) return '[Circular]';\n            seenValues.push(value);\n            const entries = Array.from(value.entries());\n            if (entries.every((param)=>{\n                let [key] = param;\n                return typeof key === 'string' || typeof key === 'number';\n            })) {\n                return Object.fromEntries(entries);\n            }\n            // if keys are not string or number, we can't convert to object\n            // fallback to default behavior\n            return {};\n        }\n        if (value instanceof Set) {\n            if ('toJSON' in value && typeof value.toJSON === 'function') return value.toJSON();\n            if (seenValues.includes(value)) return '[Circular]';\n            seenValues.push(value);\n            return Array.from(value.values());\n        }\n        // https://stackoverflow.com/a/72457899\n        if (typeof value === 'object' && value !== null && Object.keys(value).length) {\n            const stackSize = seenValues.length;\n            if (stackSize) {\n                // clean up expired references\n                for(let n = stackSize - 1; n >= 0 && seenValues[n][key] !== value; --n){\n                    seenValues.pop();\n                }\n                if (seenValues.includes(value)) return '[Circular]';\n            }\n            seenValues.push(value);\n        }\n        return value;\n    }\n    return JSON.stringify(obj, replacer, space);\n}\nasync function copyString(value) {\n    if ('clipboard' in navigator) {\n        try {\n            await navigator.clipboard.writeText(value);\n        } catch  {\n        // When navigator.clipboard throws an error, fallback to copy-to-clipboard package\n        }\n    }\n    // fallback to copy-to-clipboard when navigator.clipboard is not available\n    copyToClipboard(value);\n}\nfunction pathValueDefaultGetter(value, key) {\n    if (value === null || value === undefined) {\n        return null;\n    }\n    if (value instanceof Map || value instanceof WeakMap) {\n        return value.get(key);\n    }\n    if (value instanceof Set) {\n        return Array.from(value)[key];\n    }\n    if (value instanceof WeakSet) {\n        throw new Error('WeakSet is not supported');\n    }\n    if (Array.isArray(value)) {\n        return value[Number(key)];\n    }\n    if (typeof value === 'object') {\n        return value[key];\n    }\n    return null;\n}\n/**\r\n * Get the value at a given path in an object.\r\n * Passing custom getters allows you to handle custom data structures.\r\n * @experimental This function is not yet stable and may change in the future.\r\n */ function getPathValue(obj, path) {\n    let customGetters = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [];\n    try {\n        // @ts-ignore\n        return path.reduce((acc, key, index)=>{\n            if (acc === null || acc === undefined) {\n                console.error('Invalid path or value encountered at path', path.slice(0, index));\n                throw new Error('Invalid path or value encountered');\n            }\n            for (const handler of customGetters){\n                const currentPath = path.slice(0, index + 1);\n                if (handler.is(acc, currentPath)) {\n                    return handler.handler(acc, key);\n                }\n            }\n            return pathValueDefaultGetter(acc, key);\n        }, obj);\n    } catch (error) {\n        console.error(error);\n        return null // or throw error?\n        ;\n    }\n}\n\n/**\r\n * useClipboard hook accepts one argument options in which copied status timeout duration is defined (defaults to 2000). Hook returns object with properties:\r\n * - copy – function to copy value to clipboard\r\n * - copied – value that indicates that copy handler was called less than options.timeout ms ago\r\n * - reset – function to clear timeout and reset copied to false\r\n */ function useClipboard() {\n    let { timeout = 2000 } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    const [copied, setCopied] = useState(false);\n    const copyTimeout = useRef(null);\n    const handleCopyResult = useCallback((value)=>{\n        const current = copyTimeout.current;\n        if (current) {\n            window.clearTimeout(current);\n        }\n        copyTimeout.current = window.setTimeout(()=>setCopied(false), timeout);\n        setCopied(value);\n    }, [\n        timeout\n    ]);\n    const onCopy = useJsonViewerStore((store)=>store.onCopy);\n    const copy = useCallback(async (path, value)=>{\n        if (typeof onCopy === 'function') {\n            try {\n                await onCopy(path, value, copyString);\n                handleCopyResult(true);\n            } catch (error) {\n                console.error(\"error when copy \".concat(path.length === 0 ? 'src' : \"src[\".concat(path.join('.')), \"]\"), error);\n            }\n        } else {\n            try {\n                const valueToCopy = safeStringify(typeof value === 'function' ? value.toString() : value, '  ');\n                await copyString(valueToCopy);\n                handleCopyResult(true);\n            } catch (error) {\n                console.error(\"error when copy \".concat(path.length === 0 ? 'src' : \"src[\".concat(path.join('.')), \"]\"), error);\n            }\n        }\n    }, [\n        handleCopyResult,\n        onCopy\n    ]);\n    const reset = useCallback(()=>{\n        setCopied(false);\n        if (copyTimeout.current) {\n            clearTimeout(copyTimeout.current);\n        }\n    }, []);\n    return {\n        copy,\n        reset,\n        copied\n    };\n}\n\nfunction useIsCycleReference(path, value) {\n    const rootValue = useJsonViewerStore((store)=>store.value);\n    return useMemo(()=>isCycleReference(rootValue, path, value), [\n        path,\n        value,\n        rootValue\n    ]);\n}\n\nfunction useInspect(path, value, nestedIndex) {\n    const depth = path.length;\n    const isTrap = useIsCycleReference(path, value);\n    const getInspectCache = useJsonViewerStore((store)=>store.getInspectCache);\n    const setInspectCache = useJsonViewerStore((store)=>store.setInspectCache);\n    const defaultInspectDepth = useJsonViewerStore((store)=>store.defaultInspectDepth);\n    const defaultInspectControl = useJsonViewerStore((store)=>store.defaultInspectControl);\n    useEffect(()=>{\n        const inspect = getInspectCache(path, nestedIndex);\n        if (inspect !== undefined) {\n            return;\n        }\n        // item with nestedIndex should not be inspected\n        if (nestedIndex !== undefined) {\n            setInspectCache(path, false, nestedIndex);\n            return;\n        }\n        // do not inspect when it is a cycle reference, otherwise there will have a loop\n        const shouldInspect = isTrap ? false : typeof defaultInspectControl === 'function' ? defaultInspectControl(path, value) : depth < defaultInspectDepth;\n        setInspectCache(path, shouldInspect);\n    }, [\n        defaultInspectDepth,\n        defaultInspectControl,\n        depth,\n        getInspectCache,\n        isTrap,\n        nestedIndex,\n        path,\n        value,\n        setInspectCache\n    ]);\n    const [inspect, set] = useState(()=>{\n        const shouldInspect = getInspectCache(path, nestedIndex);\n        if (shouldInspect !== undefined) {\n            return shouldInspect;\n        }\n        if (nestedIndex !== undefined) {\n            return false;\n        }\n        return isTrap ? false : typeof defaultInspectControl === 'function' ? defaultInspectControl(path, value) : depth < defaultInspectDepth;\n    });\n    const setInspect = useCallback((apply)=>{\n        set((oldState)=>{\n            const newState = typeof apply === 'boolean' ? apply : apply(oldState);\n            setInspectCache(path, newState, nestedIndex);\n            return newState;\n        });\n    }, [\n        nestedIndex,\n        path,\n        setInspectCache\n    ]);\n    return [\n        inspect,\n        setInspect\n    ];\n}\n\nconst DataBox = (props)=>/*#__PURE__*/ jsx(Box, {\n        component: \"div\",\n        ...props,\n        sx: {\n            display: 'inline-block',\n            ...props.sx\n        }\n    });\n\nconst DataTypeLabel = (param)=>{\n    let { dataType, enable = true } = param;\n    if (!enable) return null;\n    return /*#__PURE__*/ jsx(DataBox, {\n        className: \"data-type-label\",\n        sx: {\n            mx: 0.5,\n            fontSize: '0.7rem',\n            opacity: 0.8,\n            userSelect: 'none'\n        },\n        children: dataType\n    });\n};\n\n/**\r\n * Enhanced version of `defineDataType` that creates a `DataType` with editor and a optional type label.\r\n * It will take care of the color and all the necessary props.\r\n *\r\n * *All of the built-in data types are defined with this function.*\r\n *\r\n * @param config.type The type name.\r\n * @param config.colorKey The color key in the colorspace. ('base00' - 'base0F')\r\n * @param config.displayTypeLabel Whether to display the type label.\r\n * @param config.Renderer The component to render the value.\r\n */ function defineEasyType(param) {\n    let { is, serialize, deserialize, type, colorKey, displayTypeLabel = true, Renderer } = param;\n    const Render = /*#__PURE__*/ memo(Renderer);\n    const EasyType = (props)=>{\n        const storeDisplayDataTypes = useJsonViewerStore((store)=>store.displayDataTypes);\n        const color = useJsonViewerStore((store)=>store.colorspace[colorKey]);\n        const onSelect = useJsonViewerStore((store)=>store.onSelect);\n        return /*#__PURE__*/ jsxs(DataBox, {\n            onClick: ()=>onSelect === null || onSelect === void 0 ? void 0 : onSelect(props.path, props.value),\n            sx: {\n                color\n            },\n            children: [\n                displayTypeLabel && storeDisplayDataTypes && /*#__PURE__*/ jsx(DataTypeLabel, {\n                    dataType: type\n                }),\n                /*#__PURE__*/ jsx(DataBox, {\n                    className: \"\".concat(type, \"-value\"),\n                    children: /*#__PURE__*/ jsx(Render, {\n                        path: props.path,\n                        inspect: props.inspect,\n                        setInspect: props.setInspect,\n                        value: props.value,\n                        prevValue: props.prevValue\n                    })\n                })\n            ]\n        });\n    };\n    EasyType.displayName = \"easy-\".concat(type, \"-type\");\n    if (!serialize || !deserialize) {\n        return {\n            is,\n            Component: EasyType\n        };\n    }\n    const EasyTypeEditor = (param)=>{\n        let { value, setValue, abortEditing, commitEditing } = param;\n        const color = useJsonViewerStore((store)=>store.colorspace[colorKey]);\n        const handleKeyDown = useCallback((event)=>{\n            if (event.key === 'Enter') {\n                event.preventDefault();\n                commitEditing(value);\n            }\n            if (event.key === 'Escape') {\n                event.preventDefault();\n                abortEditing();\n            }\n        }, [\n            abortEditing,\n            commitEditing,\n            value\n        ]);\n        const handleChange = useCallback((event)=>{\n            setValue(event.target.value);\n        }, [\n            setValue\n        ]);\n        return /*#__PURE__*/ jsx(InputBase, {\n            autoFocus: true,\n            value: value,\n            onChange: handleChange,\n            onKeyDown: handleKeyDown,\n            size: \"small\",\n            multiline: true,\n            sx: {\n                color,\n                padding: 0.5,\n                borderStyle: 'solid',\n                borderColor: 'black',\n                borderWidth: 1,\n                fontSize: '0.8rem',\n                fontFamily: 'monospace',\n                display: 'inline-flex'\n            }\n        });\n    };\n    EasyTypeEditor.displayName = \"easy-\".concat(type, \"-type-editor\");\n    return {\n        is,\n        serialize,\n        deserialize,\n        Component: EasyType,\n        Editor: EasyTypeEditor\n    };\n}\n\nconst booleanType = defineEasyType({\n    is: (value)=>typeof value === 'boolean',\n    type: 'bool',\n    colorKey: 'base0E',\n    serialize: (value)=>value.toString(),\n    deserialize: (value)=>{\n        if (value === 'true') return true;\n        if (value === 'false') return false;\n        throw new Error('Invalid boolean value');\n    },\n    Renderer: (param)=>{\n        let { value } = param;\n        return /*#__PURE__*/ jsx(Fragment, {\n            children: value ? 'true' : 'false'\n        });\n    }\n});\n\nconst displayOptions = {\n    weekday: 'short',\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n};\nconst dateType = defineEasyType({\n    is: (value)=>value instanceof Date,\n    type: 'date',\n    colorKey: 'base0D',\n    Renderer: (param)=>{\n        let { value } = param;\n        return /*#__PURE__*/ jsx(Fragment, {\n            children: value.toLocaleTimeString('en-us', displayOptions)\n        });\n    }\n});\n\nconst functionBody = (func)=>{\n    const funcString = func.toString();\n    let isUsualFunction = true;\n    const parenthesisPos = funcString.indexOf(')');\n    const arrowPos = funcString.indexOf('=>');\n    if (arrowPos !== -1 && arrowPos > parenthesisPos) {\n        isUsualFunction = false;\n    }\n    if (isUsualFunction) {\n        return funcString.substring(funcString.indexOf('{', parenthesisPos) + 1, funcString.lastIndexOf('}'));\n    }\n    return funcString.substring(funcString.indexOf('=>') + 2);\n};\nconst functionName = (func)=>{\n    const funcString = func.toString();\n    const isUsualFunction = funcString.indexOf('function') !== -1;\n    if (isUsualFunction) {\n        return funcString.substring(8, funcString.indexOf('{')).trim();\n    }\n    return funcString.substring(0, funcString.indexOf('=>') + 2).trim();\n};\nconst lb = '{';\nconst rb = '}';\nconst PreFunctionType = (props)=>{\n    return /*#__PURE__*/ jsxs(NoSsr, {\n        children: [\n            /*#__PURE__*/ jsx(DataTypeLabel, {\n                dataType: \"function\"\n            }),\n            /*#__PURE__*/ jsxs(Box, {\n                component: \"span\",\n                className: \"data-function-start\",\n                sx: {\n                    letterSpacing: 0.5\n                },\n                children: [\n                    functionName(props.value),\n                    ' ',\n                    lb\n                ]\n            })\n        ]\n    });\n};\nconst PostFunctionType = ()=>{\n    return /*#__PURE__*/ jsx(NoSsr, {\n        children: /*#__PURE__*/ jsx(Box, {\n            component: \"span\",\n            className: \"data-function-end\",\n            children: rb\n        })\n    });\n};\nconst FunctionType = (props)=>{\n    const functionColor = useJsonViewerStore((store)=>store.colorspace.base05);\n    return /*#__PURE__*/ jsx(NoSsr, {\n        children: /*#__PURE__*/ jsx(Box, {\n            className: \"data-function\",\n            sx: {\n                display: props.inspect ? 'block' : 'inline-block',\n                pl: props.inspect ? 2 : 0,\n                color: functionColor\n            },\n            children: props.inspect ? functionBody(props.value) : /*#__PURE__*/ jsx(Box, {\n                component: \"span\",\n                className: \"data-function-body\",\n                onClick: ()=>props.setInspect(true),\n                sx: {\n                    '&:hover': {\n                        cursor: 'pointer'\n                    },\n                    padding: 0.5\n                },\n                children: \"…\"\n            })\n        })\n    });\n};\nconst functionType = {\n    is: (value)=>typeof value === 'function',\n    Component: FunctionType,\n    PreComponent: PreFunctionType,\n    PostComponent: PostFunctionType\n};\n\nconst nullType = defineEasyType({\n    is: (value)=>value === null,\n    type: 'null',\n    colorKey: 'base08',\n    displayTypeLabel: false,\n    Renderer: ()=>{\n        const backgroundColor = useJsonViewerStore((store)=>store.colorspace.base02);\n        return /*#__PURE__*/ jsx(Box, {\n            sx: {\n                fontSize: '0.8rem',\n                backgroundColor,\n                fontWeight: 'bold',\n                borderRadius: '3px',\n                padding: '0.5px 2px'\n            },\n            children: \"NULL\"\n        });\n    }\n});\n\nconst isInt = (n)=>n % 1 === 0;\nconst nanType = defineEasyType({\n    is: (value)=>typeof value === 'number' && isNaN(value),\n    type: 'NaN',\n    colorKey: 'base08',\n    displayTypeLabel: false,\n    serialize: ()=>'NaN',\n    // allow deserialize the value back to number\n    deserialize: (value)=>parseFloat(value),\n    Renderer: ()=>{\n        const backgroundColor = useJsonViewerStore((store)=>store.colorspace.base02);\n        return /*#__PURE__*/ jsx(Box, {\n            sx: {\n                backgroundColor,\n                fontSize: '0.8rem',\n                fontWeight: 'bold',\n                borderRadius: '3px',\n                padding: '0.5px 2px'\n            },\n            children: \"NaN\"\n        });\n    }\n});\nconst floatType = defineEasyType({\n    is: (value)=>typeof value === 'number' && !isInt(value) && !isNaN(value),\n    type: 'float',\n    colorKey: 'base0B',\n    serialize: (value)=>value.toString(),\n    deserialize: (value)=>parseFloat(value),\n    Renderer: (param)=>{\n        let { value } = param;\n        return /*#__PURE__*/ jsx(Fragment, {\n            children: value\n        });\n    }\n});\nconst intType = defineEasyType({\n    is: (value)=>typeof value === 'number' && isInt(value),\n    type: 'int',\n    colorKey: 'base0F',\n    serialize: (value)=>value.toString(),\n    // allow deserialize the value to float\n    deserialize: (value)=>parseFloat(value),\n    Renderer: (param)=>{\n        let { value } = param;\n        return /*#__PURE__*/ jsx(Fragment, {\n            children: value\n        });\n    }\n});\nconst bigIntType = defineEasyType({\n    is: (value)=>typeof value === 'bigint',\n    type: 'bigint',\n    colorKey: 'base0F',\n    serialize: (value)=>value.toString(),\n    deserialize: (value)=>BigInt(value.replace(/\\D/g, '')),\n    Renderer: (param)=>{\n        let { value } = param;\n        return /*#__PURE__*/ jsx(Fragment, {\n            children: \"\".concat(value, \"n\")\n        });\n    }\n});\n\nconst BaseIcon = (param)=>{\n    let { d, ...props } = param;\n    return /*#__PURE__*/ jsx(SvgIcon, {\n        ...props,\n        children: /*#__PURE__*/ jsx(\"path\", {\n            d: d\n        })\n    });\n};\nconst AddBox = 'M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z';\nconst Check = 'M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z';\nconst ChevronRight = 'M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z';\nconst CircularArrows = 'M 12 2 C 10.615 1.998 9.214625 2.2867656 7.890625 2.8847656 L 8.9003906 4.6328125 C 9.9043906 4.2098125 10.957 3.998 12 4 C 15.080783 4 17.738521 5.7633175 19.074219 8.3222656 L 17.125 9 L 21.25 11 L 22.875 7 L 20.998047 7.6523438 C 19.377701 4.3110398 15.95585 2 12 2 z M 6.5097656 4.4882812 L 2.2324219 5.0820312 L 3.734375 6.3808594 C 1.6515335 9.4550558 1.3615962 13.574578 3.3398438 17 C 4.0308437 18.201 4.9801562 19.268234 6.1601562 20.115234 L 7.1699219 18.367188 C 6.3019219 17.710187 5.5922656 16.904 5.0722656 16 C 3.5320014 13.332354 3.729203 10.148679 5.2773438 7.7128906 L 6.8398438 9.0625 L 6.5097656 4.4882812 z M 19.929688 13 C 19.794687 14.08 19.450734 15.098 18.927734 16 C 17.386985 18.668487 14.531361 20.090637 11.646484 19.966797 L 12.035156 17.9375 L 8.2402344 20.511719 L 10.892578 23.917969 L 11.265625 21.966797 C 14.968963 22.233766 18.681899 20.426323 20.660156 17 C 21.355156 15.801 21.805219 14.445 21.949219 13 L 19.929688 13 z';\nconst Close = 'M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z';\nconst ContentCopy = 'M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z';\nconst Edit = 'M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z';\nconst ExpandMore = 'M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z';\nconst Delete = 'M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5l-1-1h-5l-1 1H5v2h14V4z';\nconst AddBoxIcon = (props)=>{\n    return /*#__PURE__*/ jsx(BaseIcon, {\n        d: AddBox,\n        ...props\n    });\n};\nconst CheckIcon = (props)=>{\n    return /*#__PURE__*/ jsx(BaseIcon, {\n        d: Check,\n        ...props\n    });\n};\nconst ChevronRightIcon = (props)=>{\n    return /*#__PURE__*/ jsx(BaseIcon, {\n        d: ChevronRight,\n        ...props\n    });\n};\nconst CircularArrowsIcon = (props)=>{\n    return /*#__PURE__*/ jsx(BaseIcon, {\n        d: CircularArrows,\n        ...props\n    });\n};\nconst CloseIcon = (props)=>{\n    return /*#__PURE__*/ jsx(BaseIcon, {\n        d: Close,\n        ...props\n    });\n};\nconst ContentCopyIcon = (props)=>{\n    return /*#__PURE__*/ jsx(BaseIcon, {\n        d: ContentCopy,\n        ...props\n    });\n};\nconst EditIcon = (props)=>{\n    return /*#__PURE__*/ jsx(BaseIcon, {\n        d: Edit,\n        ...props\n    });\n};\nconst ExpandMoreIcon = (props)=>{\n    return /*#__PURE__*/ jsx(BaseIcon, {\n        d: ExpandMore,\n        ...props\n    });\n};\nconst DeleteIcon = (props)=>{\n    return /*#__PURE__*/ jsx(BaseIcon, {\n        d: Delete,\n        ...props\n    });\n};\n\nconst objectLb = '{';\nconst arrayLb = '[';\nconst objectRb = '}';\nconst arrayRb = ']';\nfunction inspectMetadata(value) {\n    const length = getValueSize(value);\n    let name = '';\n    if (value instanceof Map || value instanceof Set) {\n        name = value[Symbol.toStringTag];\n    }\n    if (Object.prototype.hasOwnProperty.call(value, Symbol.toStringTag)) {\n        name = value[Symbol.toStringTag];\n    }\n    return \"\".concat(length, \" Items\").concat(name ? \" (\".concat(name, \")\") : '');\n}\nconst PreObjectType = (props)=>{\n    const metadataColor = useJsonViewerStore((store)=>store.colorspace.base04);\n    const textColor = useTextColor();\n    const isArrayLike = useMemo(()=>Array.isArray(props.value) || props.value instanceof Set, [\n        props.value\n    ]);\n    const isEmptyValue = useMemo(()=>getValueSize(props.value) === 0, [\n        props.value\n    ]);\n    const sizeOfValue = useMemo(()=>inspectMetadata(props.value), [\n        props.value\n    ]);\n    const displaySize = useJsonViewerStore((store)=>store.displaySize);\n    const shouldDisplaySize = useMemo(()=>typeof displaySize === 'function' ? displaySize(props.path, props.value) : displaySize, [\n        displaySize,\n        props.path,\n        props.value\n    ]);\n    const isTrap = useIsCycleReference(props.path, props.value);\n    return /*#__PURE__*/ jsxs(Box, {\n        component: \"span\",\n        className: \"data-object-start\",\n        sx: {\n            letterSpacing: 0.5\n        },\n        children: [\n            isArrayLike ? arrayLb : objectLb,\n            shouldDisplaySize && props.inspect && !isEmptyValue && /*#__PURE__*/ jsx(Box, {\n                component: \"span\",\n                sx: {\n                    pl: 0.5,\n                    fontStyle: 'italic',\n                    color: metadataColor,\n                    userSelect: 'none'\n                },\n                children: sizeOfValue\n            }),\n            isTrap && !props.inspect && /*#__PURE__*/ jsxs(Fragment, {\n                children: [\n                    /*#__PURE__*/ jsx(CircularArrowsIcon, {\n                        sx: {\n                            fontSize: 12,\n                            color: textColor,\n                            mx: 0.5\n                        }\n                    }),\n                    /*#__PURE__*/ jsx(DataBox, {\n                        sx: {\n                            cursor: 'pointer',\n                            userSelect: 'none'\n                        },\n                        children: isTrap\n                    })\n                ]\n            })\n        ]\n    });\n};\nconst PostObjectType = (props)=>{\n    const metadataColor = useJsonViewerStore((store)=>store.colorspace.base04);\n    const textColor = useTextColor();\n    const isArrayLike = useMemo(()=>Array.isArray(props.value) || props.value instanceof Set, [\n        props.value\n    ]);\n    const isEmptyValue = useMemo(()=>getValueSize(props.value) === 0, [\n        props.value\n    ]);\n    const sizeOfValue = useMemo(()=>inspectMetadata(props.value), [\n        props.value\n    ]);\n    const displaySize = useJsonViewerStore((store)=>store.displaySize);\n    const shouldDisplaySize = useMemo(()=>typeof displaySize === 'function' ? displaySize(props.path, props.value) : displaySize, [\n        displaySize,\n        props.path,\n        props.value\n    ]);\n    return /*#__PURE__*/ jsxs(Box, {\n        component: \"span\",\n        className: \"data-object-end\",\n        sx: {\n            lineHeight: 1.5,\n            color: textColor,\n            letterSpacing: 0.5,\n            opacity: 0.8\n        },\n        children: [\n            isArrayLike ? arrayRb : objectRb,\n            shouldDisplaySize && (isEmptyValue || !props.inspect) ? /*#__PURE__*/ jsx(Box, {\n                component: \"span\",\n                sx: {\n                    pl: 0.5,\n                    fontStyle: 'italic',\n                    color: metadataColor,\n                    userSelect: 'none'\n                },\n                children: sizeOfValue\n            }) : null\n        ]\n    });\n};\nfunction getIterator(value) {\n    return typeof (value === null || value === void 0 ? void 0 : value[Symbol.iterator]) === 'function';\n}\nconst ObjectType = (props)=>{\n    const keyColor = useTextColor();\n    const borderColor = useJsonViewerStore((store)=>store.colorspace.base02);\n    const groupArraysAfterLength = useJsonViewerStore((store)=>store.groupArraysAfterLength);\n    const isTrap = useIsCycleReference(props.path, props.value);\n    const [displayLength, setDisplayLength] = useState(useJsonViewerStore((store)=>store.maxDisplayLength));\n    const objectSortKeys = useJsonViewerStore((store)=>store.objectSortKeys);\n    const elements = useMemo(()=>{\n        if (!props.inspect) {\n            return null;\n        }\n        const value = props.value;\n        const iterator = getIterator(value);\n        // Array also has iterator, we skip it and treat it as an array as normal.\n        if (iterator && !Array.isArray(value)) {\n            const elements = [];\n            if (value instanceof Map) {\n                const lastIndex = value.size - 1;\n                let index = 0;\n                value.forEach((value, k)=>{\n                    // fixme: key might be a object, array, or any value for the `Map<any, any>`\n                    const key = k.toString();\n                    const path = [\n                        ...props.path,\n                        key\n                    ];\n                    elements.push(/*#__PURE__*/ jsx(DataKeyPair, {\n                        path: path,\n                        value: value,\n                        prevValue: props.prevValue instanceof Map ? props.prevValue.get(k) : undefined,\n                        editable: false,\n                        last: index === lastIndex\n                    }, key));\n                    index++;\n                });\n            } else {\n                // iterate with iterator func\n                const iterator = value[Symbol.iterator]();\n                let result = iterator.next();\n                let count = 0;\n                while(true){\n                    const nextResult = iterator.next();\n                    var _nextResult_done;\n                    elements.push(/*#__PURE__*/ jsx(DataKeyPair, {\n                        path: [\n                            ...props.path,\n                            \"iterator:\".concat(count)\n                        ],\n                        value: result.value,\n                        nestedIndex: count,\n                        editable: false,\n                        last: (_nextResult_done = nextResult.done) !== null && _nextResult_done !== void 0 ? _nextResult_done : false\n                    }, count));\n                    if (nextResult.done) {\n                        break;\n                    }\n                    count++;\n                    result = nextResult;\n                }\n            }\n            return elements;\n        }\n        if (Array.isArray(value)) {\n            const lastIndex = value.length - 1;\n            // unknown[]\n            if (value.length <= groupArraysAfterLength) {\n                const elements = value.slice(0, displayLength).map((value, _index)=>{\n                    const index = props.nestedIndex ? props.nestedIndex * groupArraysAfterLength + _index : _index;\n                    const path = [\n                        ...props.path,\n                        index\n                    ];\n                    return /*#__PURE__*/ jsx(DataKeyPair, {\n                        path: path,\n                        value: value,\n                        prevValue: Array.isArray(props.prevValue) ? props.prevValue[index] : undefined,\n                        last: _index === lastIndex\n                    }, index);\n                });\n                if (value.length > displayLength) {\n                    const rest = value.length - displayLength;\n                    elements.push(/*#__PURE__*/ jsxs(DataBox, {\n                        sx: {\n                            cursor: 'pointer',\n                            lineHeight: 1.5,\n                            color: keyColor,\n                            letterSpacing: 0.5,\n                            opacity: 0.8,\n                            userSelect: 'none'\n                        },\n                        onClick: ()=>setDisplayLength((length)=>length * 2),\n                        children: [\n                            \"hidden \",\n                            rest,\n                            \" items…\"\n                        ]\n                    }, \"last\"));\n                }\n                return elements;\n            }\n            const elements = segmentArray(value, groupArraysAfterLength);\n            const prevElements = Array.isArray(props.prevValue) ? segmentArray(props.prevValue, groupArraysAfterLength) : undefined;\n            const elementsLastIndex = elements.length - 1;\n            return elements.map((list, index)=>{\n                return /*#__PURE__*/ jsx(DataKeyPair, {\n                    path: props.path,\n                    value: list,\n                    nestedIndex: index,\n                    prevValue: prevElements === null || prevElements === void 0 ? void 0 : prevElements[index],\n                    last: index === elementsLastIndex\n                }, index);\n            });\n        }\n        // object\n        let entries = Object.entries(value);\n        if (objectSortKeys) {\n            entries = objectSortKeys === true ? entries.sort((param, param1)=>{\n                let [a] = param, [b] = param1;\n                return a.localeCompare(b);\n            }) : entries.sort((param, param1)=>{\n                let [a] = param, [b] = param1;\n                return objectSortKeys(a, b);\n            });\n        }\n        const lastIndex = entries.length - 1;\n        const elements = entries.slice(0, displayLength).map((param, index)=>{\n            let [key, value] = param;\n            var _props_prevValue;\n            const path = [\n                ...props.path,\n                key\n            ];\n            return /*#__PURE__*/ jsx(DataKeyPair, {\n                path: path,\n                value: value,\n                prevValue: (_props_prevValue = props.prevValue) === null || _props_prevValue === void 0 ? void 0 : _props_prevValue[key],\n                last: index === lastIndex\n            }, key);\n        });\n        if (entries.length > displayLength) {\n            const rest = entries.length - displayLength;\n            elements.push(/*#__PURE__*/ jsxs(DataBox, {\n                sx: {\n                    cursor: 'pointer',\n                    lineHeight: 1.5,\n                    color: keyColor,\n                    letterSpacing: 0.5,\n                    opacity: 0.8,\n                    userSelect: 'none'\n                },\n                onClick: ()=>setDisplayLength((length)=>length * 2),\n                children: [\n                    \"hidden \",\n                    rest,\n                    \" items…\"\n                ]\n            }, \"last\"));\n        }\n        return elements;\n    }, [\n        props.inspect,\n        props.value,\n        props.prevValue,\n        props.path,\n        props.nestedIndex,\n        groupArraysAfterLength,\n        displayLength,\n        keyColor,\n        objectSortKeys\n    ]);\n    const marginLeft = props.inspect ? 0.6 : 0;\n    const width = useJsonViewerStore((store)=>store.indentWidth);\n    const indentWidth = props.inspect ? width - marginLeft : width;\n    const isEmptyValue = useMemo(()=>getValueSize(props.value) === 0, [\n        props.value\n    ]);\n    if (isEmptyValue) {\n        return null;\n    }\n    return /*#__PURE__*/ jsx(Box, {\n        className: \"data-object\",\n        sx: {\n            display: props.inspect ? 'block' : 'inline-block',\n            pl: props.inspect ? indentWidth - 0.6 : 0,\n            marginLeft,\n            color: keyColor,\n            borderLeft: props.inspect ? \"1px solid \".concat(borderColor) : 'none'\n        },\n        children: props.inspect ? elements : !isTrap && /*#__PURE__*/ jsx(Box, {\n            component: \"span\",\n            className: \"data-object-body\",\n            onClick: ()=>props.setInspect(true),\n            sx: {\n                '&:hover': {\n                    cursor: 'pointer'\n                },\n                padding: 0.5,\n                userSelect: 'none'\n            },\n            children: \"…\"\n        })\n    });\n};\nconst objectType = {\n    is: (value)=>typeof value === 'object',\n    Component: ObjectType,\n    PreComponent: PreObjectType,\n    PostComponent: PostObjectType\n};\n\nconst stringType = defineEasyType({\n    is: (value)=>typeof value === 'string',\n    type: 'string',\n    colorKey: 'base09',\n    serialize: (value)=>value,\n    deserialize: (value)=>value,\n    Renderer: (props)=>{\n        const [showRest, setShowRest] = useState(false);\n        const collapseStringsAfterLength = useJsonViewerStore((store)=>store.collapseStringsAfterLength);\n        const value = showRest ? props.value : props.value.slice(0, collapseStringsAfterLength);\n        const hasRest = props.value.length > collapseStringsAfterLength;\n        return /*#__PURE__*/ jsxs(Box, {\n            component: \"span\",\n            sx: {\n                overflowWrap: 'anywhere',\n                cursor: hasRest ? 'pointer' : 'inherit'\n            },\n            onClick: ()=>{\n                var _window_getSelection;\n                if (((_window_getSelection = window.getSelection()) === null || _window_getSelection === void 0 ? void 0 : _window_getSelection.type) === 'Range') {\n                    return;\n                }\n                if (hasRest) {\n                    setShowRest((value)=>!value);\n                }\n            },\n            children: [\n                '\"',\n                value,\n                hasRest && !showRest && /*#__PURE__*/ jsx(Box, {\n                    component: \"span\",\n                    sx: {\n                        padding: 0.5\n                    },\n                    children: \"…\"\n                }),\n                '\"'\n            ]\n        });\n    }\n});\n\nconst undefinedType = defineEasyType({\n    is: (value)=>value === undefined,\n    type: 'undefined',\n    colorKey: 'base05',\n    displayTypeLabel: false,\n    Renderer: ()=>{\n        const backgroundColor = useJsonViewerStore((store)=>store.colorspace.base02);\n        return /*#__PURE__*/ jsx(Box, {\n            sx: {\n                fontSize: '0.7rem',\n                backgroundColor,\n                borderRadius: '3px',\n                padding: '0.5px 2px'\n            },\n            children: \"undefined\"\n        });\n    }\n});\n\nfunction memorizeDataType(dataType) {\n    function compare(prevProps, nextProps) {\n        var _prevProps_path, _nextProps_path;\n        return Object.is(prevProps.value, nextProps.value) && prevProps.inspect && nextProps.inspect && ((_prevProps_path = prevProps.path) === null || _prevProps_path === void 0 ? void 0 : _prevProps_path.join('.')) === ((_nextProps_path = nextProps.path) === null || _nextProps_path === void 0 ? void 0 : _nextProps_path.join('.'));\n    }\n    dataType.Component = /*#__PURE__*/ memo(dataType.Component, compare);\n    if (dataType.Editor) {\n        dataType.Editor = /*#__PURE__*/ memo(dataType.Editor, function compare(prevProps, nextProps) {\n            return Object.is(prevProps.value, nextProps.value);\n        });\n    }\n    if (dataType.PreComponent) {\n        dataType.PreComponent = /*#__PURE__*/ memo(dataType.PreComponent, compare);\n    }\n    if (dataType.PostComponent) {\n        dataType.PostComponent = /*#__PURE__*/ memo(dataType.PostComponent, compare);\n    }\n    return dataType;\n}\nconst predefinedTypes = [\n    memorizeDataType(booleanType),\n    memorizeDataType(dateType),\n    memorizeDataType(nullType),\n    memorizeDataType(undefinedType),\n    memorizeDataType(stringType),\n    memorizeDataType(functionType),\n    memorizeDataType(nanType),\n    memorizeDataType(intType),\n    memorizeDataType(floatType),\n    memorizeDataType(bigIntType)\n];\nconst createTypeRegistryStore = ()=>{\n    return createStore()((set)=>({\n            registry: predefinedTypes,\n            registerTypes: (setState)=>{\n                set((state)=>({\n                        registry: typeof setState === 'function' ? setState(state.registry) : setState\n                    }));\n            }\n        }));\n};\n// @ts-expect-error we intentionally want to pass undefined to the context\n// See https://github.com/DefinitelyTyped/DefinitelyTyped/pull/24509#issuecomment-382213106\nconst TypeRegistryStoreContext = /*#__PURE__*/ createContext(undefined);\nTypeRegistryStoreContext.Provider;\nconst useTypeRegistryStore = (selector, equalityFn)=>{\n    const store = useContext(TypeRegistryStoreContext);\n    return useStore(store, selector, equalityFn);\n};\nfunction matchTypeComponents(value, path, registry) {\n    let potential;\n    for (const T of registry){\n        if (T.is(value, path)) {\n            potential = T;\n        }\n    }\n    if (potential === undefined) {\n        if (typeof value === 'object') {\n            return objectType;\n        }\n        throw new Error(\"No type matched for value: \".concat(value));\n    }\n    return potential;\n}\nfunction useTypeComponents(value, path) {\n    const registry = useTypeRegistryStore((store)=>store.registry);\n    return useMemo(()=>matchTypeComponents(value, path, registry), [\n        value,\n        path,\n        registry\n    ]);\n}\n\nconst IconBox = (props)=>/*#__PURE__*/ jsx(Box, {\n        component: \"span\",\n        ...props,\n        sx: {\n            cursor: 'pointer',\n            paddingLeft: '0.7rem',\n            ...props.sx\n        }\n    });\nconst DataKeyPair = (props)=>{\n    const { value, prevValue, path, nestedIndex, last } = props;\n    const { Component, PreComponent, PostComponent, Editor, serialize, deserialize } = useTypeComponents(value, path);\n    var _props_editable;\n    const propsEditable = (_props_editable = props.editable) !== null && _props_editable !== void 0 ? _props_editable : undefined;\n    const storeEditable = useJsonViewerStore((store)=>store.editable);\n    const editable = useMemo(()=>{\n        if (storeEditable === false) {\n            return false;\n        }\n        if (propsEditable === false) {\n            // props.editable is false which means we cannot provide the suitable way to edit it\n            return false;\n        }\n        if (typeof storeEditable === 'function') {\n            return !!storeEditable(path, value);\n        }\n        return storeEditable;\n    }, [\n        path,\n        propsEditable,\n        storeEditable,\n        value\n    ]);\n    const [tempValue, setTempValue] = useState('');\n    const depth = path.length;\n    const key = path[depth - 1];\n    const hoverPath = useJsonViewerStore((store)=>store.hoverPath);\n    const isHover = useMemo(()=>{\n        return hoverPath && path.every((value, index)=>value === hoverPath.path[index] && nestedIndex === hoverPath.nestedIndex);\n    }, [\n        hoverPath,\n        path,\n        nestedIndex\n    ]);\n    const setHover = useJsonViewerStore((store)=>store.setHover);\n    const root = useJsonViewerStore((store)=>store.value);\n    const [inspect, setInspect] = useInspect(path, value, nestedIndex);\n    const [editing, setEditing] = useState(false);\n    const onChange = useJsonViewerStore((store)=>store.onChange);\n    const keyColor = useTextColor();\n    const numberKeyColor = useJsonViewerStore((store)=>store.colorspace.base0C);\n    const highlightColor = useJsonViewerStore((store)=>store.colorspace.base0A);\n    const displayComma = useJsonViewerStore((store)=>store.displayComma);\n    const quotesOnKeys = useJsonViewerStore((store)=>store.quotesOnKeys);\n    const rootName = useJsonViewerStore((store)=>store.rootName);\n    const isRoot = root === value;\n    const isNumberKey = Number.isInteger(Number(key));\n    const storeEnableAdd = useJsonViewerStore((store)=>store.enableAdd);\n    const onAdd = useJsonViewerStore((store)=>store.onAdd);\n    const enableAdd = useMemo(()=>{\n        if (!onAdd || nestedIndex !== undefined) return false;\n        if (storeEnableAdd === false) {\n            return false;\n        }\n        if (propsEditable === false) {\n            // props.editable is false which means we cannot provide the suitable way to edit it\n            return false;\n        }\n        if (typeof storeEnableAdd === 'function') {\n            return !!storeEnableAdd(path, value);\n        }\n        if (Array.isArray(value) || isPlainObject(value)) {\n            return true;\n        }\n        return false;\n    }, [\n        onAdd,\n        nestedIndex,\n        path,\n        storeEnableAdd,\n        propsEditable,\n        value\n    ]);\n    const storeEnableDelete = useJsonViewerStore((store)=>store.enableDelete);\n    const onDelete = useJsonViewerStore((store)=>store.onDelete);\n    const enableDelete = useMemo(()=>{\n        if (!onDelete || nestedIndex !== undefined) return false;\n        if (isRoot) {\n            // don't allow delete root\n            return false;\n        }\n        if (storeEnableDelete === false) {\n            return false;\n        }\n        if (propsEditable === false) {\n            // props.editable is false which means we cannot provide the suitable way to edit it\n            return false;\n        }\n        if (typeof storeEnableDelete === 'function') {\n            return !!storeEnableDelete(path, value);\n        }\n        return storeEnableDelete;\n    }, [\n        onDelete,\n        nestedIndex,\n        isRoot,\n        path,\n        storeEnableDelete,\n        propsEditable,\n        value\n    ]);\n    const enableClipboard = useJsonViewerStore((store)=>store.enableClipboard);\n    const { copy, copied } = useClipboard();\n    const highlightUpdates = useJsonViewerStore((store)=>store.highlightUpdates);\n    const isHighlight = useMemo(()=>{\n        if (!highlightUpdates || prevValue === undefined) return false;\n        // highlight if value type changed\n        if (typeof value !== typeof prevValue) {\n            return true;\n        }\n        if (typeof value === 'number') {\n            // notice: NaN !== NaN\n            if (isNaN(value) && isNaN(prevValue)) return false;\n            return value !== prevValue;\n        }\n        // highlight if isArray changed\n        if (Array.isArray(value) !== Array.isArray(prevValue)) {\n            return true;\n        }\n        // not highlight object/function\n        // deep compare they will be slow\n        if (typeof value === 'object' || typeof value === 'function') {\n            return false;\n        }\n        // highlight if not equal\n        if (value !== prevValue) {\n            return true;\n        }\n        return false;\n    }, [\n        highlightUpdates,\n        prevValue,\n        value\n    ]);\n    const highlightContainer = useRef();\n    useEffect(()=>{\n        if (highlightContainer.current && isHighlight && 'animate' in highlightContainer.current) {\n            highlightContainer.current.animate([\n                {\n                    backgroundColor: highlightColor\n                },\n                {\n                    backgroundColor: ''\n                }\n            ], {\n                duration: 1000,\n                easing: 'ease-in'\n            });\n        }\n    }, [\n        highlightColor,\n        isHighlight,\n        prevValue,\n        value\n    ]);\n    const startEditing = useCallback((event)=>{\n        event.preventDefault();\n        if (serialize) setTempValue(serialize(value));\n        setEditing(true);\n    }, [\n        serialize,\n        value\n    ]);\n    const abortEditing = useCallback(()=>{\n        setEditing(false);\n        setTempValue('');\n    }, [\n        setEditing,\n        setTempValue\n    ]);\n    const commitEditing = useCallback((newValue)=>{\n        setEditing(false);\n        if (!deserialize) return;\n        try {\n            onChange(path, value, deserialize(newValue));\n        } catch (e) {\n        // do nothing when deserialize failed\n        }\n    }, [\n        setEditing,\n        deserialize,\n        onChange,\n        path,\n        value\n    ]);\n    const actionIcons = useMemo(()=>{\n        if (editing) {\n            return /*#__PURE__*/ jsxs(Fragment, {\n                children: [\n                    /*#__PURE__*/ jsx(IconBox, {\n                        children: /*#__PURE__*/ jsx(CloseIcon, {\n                            sx: {\n                                fontSize: '.8rem'\n                            },\n                            onClick: abortEditing\n                        })\n                    }),\n                    /*#__PURE__*/ jsx(IconBox, {\n                        children: /*#__PURE__*/ jsx(CheckIcon, {\n                            sx: {\n                                fontSize: '.8rem'\n                            },\n                            onClick: ()=>commitEditing(tempValue)\n                        })\n                    })\n                ]\n            });\n        }\n        return /*#__PURE__*/ jsxs(Fragment, {\n            children: [\n                enableClipboard && /*#__PURE__*/ jsx(IconBox, {\n                    onClick: (event)=>{\n                        event.preventDefault();\n                        try {\n                            copy(path, value, copyString);\n                        } catch (e) {\n                            // in some case, this will throw error\n                            // fixme: `useAlert` hook\n                            console.error(e);\n                        }\n                    },\n                    children: copied ? /*#__PURE__*/ jsx(CheckIcon, {\n                        sx: {\n                            fontSize: '.8rem'\n                        }\n                    }) : /*#__PURE__*/ jsx(ContentCopyIcon, {\n                        sx: {\n                            fontSize: '.8rem'\n                        }\n                    })\n                }),\n                Editor && editable && serialize && deserialize && /*#__PURE__*/ jsx(IconBox, {\n                    onClick: startEditing,\n                    children: /*#__PURE__*/ jsx(EditIcon, {\n                        sx: {\n                            fontSize: '.8rem'\n                        }\n                    })\n                }),\n                enableAdd && /*#__PURE__*/ jsx(IconBox, {\n                    onClick: (event)=>{\n                        event.preventDefault();\n                        onAdd === null || onAdd === void 0 ? void 0 : onAdd(path);\n                    },\n                    children: /*#__PURE__*/ jsx(AddBoxIcon, {\n                        sx: {\n                            fontSize: '.8rem'\n                        }\n                    })\n                }),\n                enableDelete && /*#__PURE__*/ jsx(IconBox, {\n                    onClick: (event)=>{\n                        event.preventDefault();\n                        onDelete === null || onDelete === void 0 ? void 0 : onDelete(path, value);\n                    },\n                    children: /*#__PURE__*/ jsx(DeleteIcon, {\n                        sx: {\n                            fontSize: '.9rem'\n                        }\n                    })\n                })\n            ]\n        });\n    }, [\n        Editor,\n        serialize,\n        deserialize,\n        copied,\n        copy,\n        editable,\n        editing,\n        enableClipboard,\n        enableAdd,\n        enableDelete,\n        tempValue,\n        path,\n        value,\n        onAdd,\n        onDelete,\n        startEditing,\n        abortEditing,\n        commitEditing\n    ]);\n    const isEmptyValue = useMemo(()=>getValueSize(value) === 0, [\n        value\n    ]);\n    const expandable = !isEmptyValue && !!(PreComponent && PostComponent);\n    const KeyRenderer = useJsonViewerStore((store)=>store.keyRenderer);\n    const downstreamProps = useMemo(()=>({\n            path,\n            inspect,\n            setInspect,\n            value,\n            prevValue,\n            nestedIndex\n        }), [\n        inspect,\n        path,\n        setInspect,\n        value,\n        prevValue,\n        nestedIndex\n    ]);\n    return /*#__PURE__*/ jsxs(Box, {\n        className: \"data-key-pair\",\n        \"data-testid\": 'data-key-pair' + path.join('.'),\n        sx: {\n            userSelect: 'text'\n        },\n        onMouseEnter: useCallback(()=>setHover(path, nestedIndex), [\n            setHover,\n            path,\n            nestedIndex\n        ]),\n        children: [\n            /*#__PURE__*/ jsxs(DataBox, {\n                component: \"span\",\n                className: \"data-key\",\n                sx: {\n                    lineHeight: 1.5,\n                    color: keyColor,\n                    letterSpacing: 0.5,\n                    opacity: 0.8\n                },\n                onClick: useCallback((event)=>{\n                    if (event.isDefaultPrevented()) {\n                        return;\n                    }\n                    if (!isEmptyValue) {\n                        setInspect((state)=>!state);\n                    }\n                }, [\n                    isEmptyValue,\n                    setInspect\n                ]),\n                children: [\n                    expandable ? inspect ? /*#__PURE__*/ jsx(ExpandMoreIcon, {\n                        className: \"data-key-toggle-expanded\",\n                        sx: {\n                            fontSize: '.8rem',\n                            '&:hover': {\n                                cursor: 'pointer'\n                            }\n                        }\n                    }) : /*#__PURE__*/ jsx(ChevronRightIcon, {\n                        className: \"data-key-toggle-collapsed\",\n                        sx: {\n                            fontSize: '.8rem',\n                            '&:hover': {\n                                cursor: 'pointer'\n                            }\n                        }\n                    }) : null,\n                    /*#__PURE__*/ jsx(Box, {\n                        ref: highlightContainer,\n                        className: \"data-key-key\",\n                        component: \"span\",\n                        children: isRoot && depth === 0 ? rootName !== false ? quotesOnKeys ? /*#__PURE__*/ jsxs(Fragment, {\n                            children: [\n                                '\"',\n                                rootName,\n                                '\"'\n                            ]\n                        }) : /*#__PURE__*/ jsx(Fragment, {\n                            children: rootName\n                        }) : null : KeyRenderer.when(downstreamProps) ? /*#__PURE__*/ jsx(KeyRenderer, {\n                            ...downstreamProps\n                        }) : nestedIndex === undefined && (isNumberKey ? /*#__PURE__*/ jsx(Box, {\n                            component: \"span\",\n                            style: {\n                                color: numberKeyColor,\n                                userSelect: isNumberKey ? 'none' : 'auto'\n                            },\n                            children: key\n                        }) : quotesOnKeys ? /*#__PURE__*/ jsxs(Fragment, {\n                            children: [\n                                '\"',\n                                key,\n                                '\"'\n                            ]\n                        }) : /*#__PURE__*/ jsx(Fragment, {\n                            children: key\n                        }))\n                    }),\n                    isRoot ? rootName !== false && /*#__PURE__*/ jsx(DataBox, {\n                        className: \"data-key-colon\",\n                        sx: {\n                            mr: 0.5\n                        },\n                        children: \":\"\n                    }) : nestedIndex === undefined && /*#__PURE__*/ jsx(DataBox, {\n                        className: \"data-key-colon\",\n                        sx: {\n                            mr: 0.5,\n                            '.data-key-key:empty + &': {\n                                display: 'none'\n                            },\n                            userSelect: isNumberKey ? 'none' : 'auto'\n                        },\n                        children: \":\"\n                    }),\n                    PreComponent && /*#__PURE__*/ jsx(PreComponent, {\n                        ...downstreamProps\n                    }),\n                    isHover && expandable && inspect && actionIcons\n                ]\n            }),\n            editing && editable ? Editor && /*#__PURE__*/ jsx(Editor, {\n                path: path,\n                value: tempValue,\n                setValue: setTempValue,\n                abortEditing: abortEditing,\n                commitEditing: commitEditing\n            }) : Component ? /*#__PURE__*/ jsx(Component, {\n                ...downstreamProps\n            }) : /*#__PURE__*/ jsx(Box, {\n                component: \"span\",\n                className: \"data-value-fallback\",\n                children: \"fallback: \".concat(value)\n            }),\n            PostComponent && /*#__PURE__*/ jsx(PostComponent, {\n                ...downstreamProps\n            }),\n            !last && displayComma && /*#__PURE__*/ jsx(DataBox, {\n                children: \",\"\n            }),\n            isHover && expandable && !inspect && actionIcons,\n            isHover && !expandable && actionIcons,\n            !isHover && editing && actionIcons\n        ]\n    });\n};\n\nconst query = '(prefers-color-scheme: dark)';\nfunction useThemeDetector() {\n    const [isDark, setIsDark] = useState(false);\n    useEffect(()=>{\n        const listener = (e)=>setIsDark(e.matches);\n        setIsDark(window.matchMedia(query).matches);\n        const queryMedia = window.matchMedia(query);\n        queryMedia.addEventListener('change', listener);\n        return ()=>queryMedia.removeEventListener('change', listener);\n    }, []);\n    return isDark;\n}\n\n/**\r\n * @internal\r\n */ function useSetIfNotUndefinedEffect(key, value) {\n    const { setState } = useContext(JsonViewerStoreContext);\n    useEffect(()=>{\n        if (value !== undefined) {\n            setState({\n                [key]: value\n            });\n        }\n    }, [\n        key,\n        value,\n        setState\n    ]);\n}\n/**\r\n * @internal\r\n */ const JsonViewerInner = (props)=>{\n    const { setState } = useContext(JsonViewerStoreContext);\n    useEffect(()=>{\n        setState((state)=>({\n                prevValue: state.value,\n                value: props.value\n            }));\n    }, [\n        props.value,\n        setState\n    ]);\n    useSetIfNotUndefinedEffect('rootName', props.rootName);\n    useSetIfNotUndefinedEffect('indentWidth', props.indentWidth);\n    useSetIfNotUndefinedEffect('keyRenderer', props.keyRenderer);\n    useSetIfNotUndefinedEffect('enableAdd', props.enableAdd);\n    useSetIfNotUndefinedEffect('enableDelete', props.enableDelete);\n    useSetIfNotUndefinedEffect('enableClipboard', props.enableClipboard);\n    useSetIfNotUndefinedEffect('editable', props.editable);\n    useSetIfNotUndefinedEffect('onChange', props.onChange);\n    useSetIfNotUndefinedEffect('onCopy', props.onCopy);\n    useSetIfNotUndefinedEffect('onSelect', props.onSelect);\n    useSetIfNotUndefinedEffect('onAdd', props.onAdd);\n    useSetIfNotUndefinedEffect('onDelete', props.onDelete);\n    useSetIfNotUndefinedEffect('maxDisplayLength', props.maxDisplayLength);\n    useSetIfNotUndefinedEffect('groupArraysAfterLength', props.groupArraysAfterLength);\n    useSetIfNotUndefinedEffect('quotesOnKeys', props.quotesOnKeys);\n    useSetIfNotUndefinedEffect('displayDataTypes', props.displayDataTypes);\n    useSetIfNotUndefinedEffect('displaySize', props.displaySize);\n    useSetIfNotUndefinedEffect('displayComma', props.displayComma);\n    useSetIfNotUndefinedEffect('highlightUpdates', props.highlightUpdates);\n    useEffect(()=>{\n        if (props.theme === 'light') {\n            setState({\n                colorspace: lightColorspace\n            });\n        } else if (props.theme === 'dark') {\n            setState({\n                colorspace: darkColorspace\n            });\n        } else if (typeof props.theme === 'object') {\n            setState({\n                colorspace: props.theme\n            });\n        }\n    }, [\n        setState,\n        props.theme\n    ]);\n    const themeCls = useMemo(()=>{\n        if (typeof props.theme === 'object') return 'json-viewer-theme-custom';\n        return props.theme === 'dark' ? 'json-viewer-theme-dark' : 'json-viewer-theme-light';\n    }, [\n        props.theme\n    ]);\n    const onceRef = useRef(true);\n    const registerTypes = useTypeRegistryStore((store)=>store.registerTypes);\n    if (onceRef.current) {\n        const allTypes = props.valueTypes ? [\n            ...predefinedTypes,\n            ...props.valueTypes\n        ] : [\n            ...predefinedTypes\n        ];\n        registerTypes(allTypes);\n        onceRef.current = false;\n    }\n    useEffect(()=>{\n        const allTypes = props.valueTypes ? [\n            ...predefinedTypes,\n            ...props.valueTypes\n        ] : [\n            ...predefinedTypes\n        ];\n        registerTypes(allTypes);\n    }, [\n        props.valueTypes,\n        registerTypes\n    ]);\n    const value = useJsonViewerStore((store)=>store.value);\n    const prevValue = useJsonViewerStore((store)=>store.prevValue);\n    const emptyPath = useMemo(()=>[], []);\n    const setHover = useJsonViewerStore((store)=>store.setHover);\n    const onMouseLeave = useCallback(()=>setHover(null), [\n        setHover\n    ]);\n    return /*#__PURE__*/ jsx(Paper, {\n        elevation: 0,\n        className: clsx(themeCls, props.className),\n        style: props.style,\n        sx: {\n            fontFamily: 'monospace',\n            userSelect: 'none',\n            contentVisibility: 'auto',\n            ...props.sx\n        },\n        onMouseLeave: onMouseLeave,\n        children: /*#__PURE__*/ jsx(DataKeyPair, {\n            value: value,\n            prevValue: prevValue,\n            path: emptyPath,\n            last: true\n        })\n    });\n};\nconst JsonViewer = function JsonViewer(props) {\n    if (process.env.NODE_ENV !== 'production') {\n        if ('displayObjectSize' in props) {\n            console.error('`displayObjectSize` is deprecated. Use `displaySize` instead.\\nSee https://viewer.textea.io/migration/migration-v3#raname-displayobjectsize-to-displaysize for more information.');\n        }\n    }\n    const isAutoDarkTheme = useThemeDetector();\n    const themeType = useMemo(()=>{\n        var _props_theme;\n        return props.theme === 'auto' ? isAutoDarkTheme ? 'dark' : 'light' : (_props_theme = props.theme) !== null && _props_theme !== void 0 ? _props_theme : 'light';\n    }, [\n        isAutoDarkTheme,\n        props.theme\n    ]);\n    const theme = useMemo(()=>{\n        const backgroundColor = typeof themeType === 'object' ? themeType.base00 : themeType === 'dark' ? darkColorspace.base00 : lightColorspace.base00;\n        const foregroundColor = typeof themeType === 'object' ? themeType.base07 : themeType === 'dark' ? darkColorspace.base07 : lightColorspace.base07;\n        return createTheme({\n            components: {\n                MuiPaper: {\n                    styleOverrides: {\n                        root: {\n                            backgroundColor,\n                            color: foregroundColor\n                        }\n                    }\n                }\n            },\n            palette: {\n                mode: themeType === 'dark' ? 'dark' : 'light',\n                background: {\n                    default: backgroundColor\n                }\n            }\n        });\n    }, [\n        themeType\n    ]);\n    const mixedProps = {\n        ...props,\n        theme: themeType\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const jsonViewerStore = useMemo(()=>createJsonViewerStore(props), []);\n    const typeRegistryStore = useMemo(()=>createTypeRegistryStore(), []);\n    return /*#__PURE__*/ jsx(ThemeProvider, {\n        theme: theme,\n        children: /*#__PURE__*/ jsx(TypeRegistryStoreContext.Provider, {\n            value: typeRegistryStore,\n            children: /*#__PURE__*/ jsx(JsonViewerStoreContext.Provider, {\n                value: jsonViewerStore,\n                children: /*#__PURE__*/ jsx(JsonViewerInner, {\n                    ...mixedProps\n                })\n            })\n        })\n    });\n};\n\nexport { JsonViewer, applyValue, bigIntType, booleanType, createDataType, darkColorspace, dateType, defineDataType, defineEasyType, deleteValue, floatType, functionType, getPathValue, intType, isCycleReference, lightColorspace, nanType, nullType, objectType, pathValueDefaultGetter, safeStringify, stringType, undefinedType };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}